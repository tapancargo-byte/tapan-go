[
  {
    "projectId": "b0311687-2228-436f-8b5b-13b6e6aa4f85",
    "testId": "42e8c59f-cc32-4ea8-9936-3b44b749993a",
    "userId": "54a864b8-1081-70dd-ad79-74b8b9f2ba56",
    "title": "TC001-verify_authentication_and_role_based_access_control",
    "description": "Test that API endpoints correctly restrict access to authenticated users and enforce role-based access control (RBAC) according to user roles.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:3000\"\nAPI_KEY = \"sbp_319164fa6ae5e2f85df9b36646881e9219e37381\"\nHEADERS_AUTH = {\"access-token\": API_KEY}\nHEADERS_NO_AUTH = {}\nTIMEOUT = 30\n\ndef verify_authentication_and_role_based_access_control():\n    \"\"\"\n    Test that API endpoints correctly restrict access to authenticated users and enforce\n    role-based access control (RBAC) according to user roles.\n    \"\"\"\n    endpoints = {\n        \"invoices\": \"/api/invoices\",\n        \"customers\": \"/api/customers\",\n        \"admin_settings\": \"/api/settings\",  # Assuming admin-only\n        \"shipments\": \"/api/shipments\"\n    }\n    \n    # 1. Test unauthenticated access\n    for name, endpoint in endpoints.items():\n        url = BASE_URL + endpoint\n        try:\n            resp = requests.get(url, headers=HEADERS_NO_AUTH, timeout=TIMEOUT)\n            if resp.status_code in (401, 403):\n                # Expected unauthorized or forbidden\n                pass\n            elif resp.status_code == 200:\n                # If server returns 200, verify response contains error or no sensitive data\n                if not resp.content:\n                    # Empty response content is treated as no access / empty data\n                    continue\n                try:\n                    data = resp.json()\n                except ValueError:\n                    assert False, f\"Response from {endpoint} is not valid JSON\"\n                # Expect error or empty data indicating no access\n                if isinstance(data, dict):\n                    assert (\"error\" in data or \"message\" in data), f\"Unauthenticated access to {endpoint} returned 200 with no error or message in response\"\n                else:\n                    # If response is list, expect empty or limited data\n                    assert len(data) == 0, f\"Unauthenticated access to {endpoint} returned 200 with data, expected empty list\"\n            else:\n                assert False, f\"Unauthenticated access to {endpoint} should be denied or empty, got {resp.status_code}\"\n        except requests.RequestException as e:\n            raise AssertionError(f\"Request exception for unauthenticated access to {endpoint}: {e}\")\n    \n    # 2. Test authenticated access allowed for general endpoints user might have access to (invoices, customers, shipments)\n    for name in [\"invoices\", \"customers\", \"shipments\"]:\n        endpoint = endpoints[name]\n        url = BASE_URL + endpoint\n        try:\n            resp = requests.get(url, headers=HEADERS_AUTH, timeout=TIMEOUT)\n            assert resp.status_code == 200, f\"Authenticated user should have access to {endpoint}, got {resp.status_code}\"\n            if not resp.content:\n                assert False, f\"Authenticated access to {endpoint} returned empty response\"\n            try:\n                data = resp.json()\n                assert isinstance(data, (dict, list)), f\"Response from {endpoint} should be JSON object or array\"\n            except ValueError:\n                raise AssertionError(f\"Response from {endpoint} is not valid JSON\")\n        except requests.RequestException as e:\n            raise AssertionError(f\"Request exception for authenticated access to {endpoint}: {e}\")\n\n    # 3. Test access denied for admin endpoint (simulate that token is not admin)\n    url = BASE_URL + endpoints[\"admin_settings\"]\n    try:\n        resp = requests.get(url, headers=HEADERS_AUTH, timeout=TIMEOUT)\n        assert resp.status_code in (401, 403), f\"Non-admin access to {endpoints['admin_settings']} should be denied, got {resp.status_code}\"\n    except requests.RequestException as e:\n        raise AssertionError(f\"Request exception when accessing admin endpoint: {e}\")\n\nverify_authentication_and_role_based_access_control()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/requests/models.py\", line 974, in json\n    return complexjson.loads(self.text, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/__init__.py\", line 514, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/decoder.py\", line 386, in decode\n    obj, end = self.raw_decode(s)\n               ^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/decoder.py\", line 416, in raw_decode\n    return self.scan_once(s, idx=_w(s, idx).end())\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsimplejson.errors.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<string>\", line 35, in verify_authentication_and_role_based_access_control\n  File \"/var/task/requests/models.py\", line 978, in json\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\nrequests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 74, in <module>\n  File \"<string>\", line 37, in verify_authentication_and_role_based_access_control\nAssertionError: Response from /api/invoices is not valid JSON\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-11-24T21:14:24.601Z",
    "modified": "2025-11-24T21:16:01.376Z"
  },
  {
    "projectId": "b0311687-2228-436f-8b5b-13b6e6aa4f85",
    "testId": "24d02f8e-5246-43ff-a95d-f92d37a7bcfe",
    "userId": "54a864b8-1081-70dd-ad79-74b8b9f2ba56",
    "title": "TC002-validate_invoice_listing_with_pagination_and_filters",
    "description": "Verify that the invoice listing API supports server-side pagination, sorting, status badges, and date range filtering accurately.",
    "code": "import requests\nfrom datetime import datetime, timedelta\n\nBASE_URL = \"http://localhost:3000\"\nAPI_KEY = \"sbp_319164fa6ae5e2f85df9b36646881e9219e37381\"\nHEADERS = {\n    \"access-token\": API_KEY,\n    \"Content-Type\": \"application/json\",\n}\n\n\ndef validate_invoice_listing_with_pagination_and_filters():\n    \"\"\"\n    Verify that the invoice listing API supports server-side pagination, sorting,\n    status badges, and date range filtering accurately.\n    \"\"\"\n    endpoint = f\"{BASE_URL}/api/invoices\"\n\n    try:\n        # 1. Test pagination: page=1, pageSize=5\n        params_pag1 = {\"page\": 1, \"pageSize\": 5}\n        resp_pag1 = requests.get(endpoint, headers=HEADERS, params=params_pag1, timeout=30)\n        assert resp_pag1.status_code == 200, f\"Status code: {resp_pag1.status_code}\"\n        assert resp_pag1.content, \"Empty response content for page 1\"\n        try:\n            data_pag1 = resp_pag1.json()\n        except Exception as e:\n            assert False, f\"Invalid JSON in page 1 response: {e}\"\n        assert \"invoices\" in data_pag1 and isinstance(data_pag1[\"invoices\"], list), \"Missing 'invoices' list\"\n        assert len(data_pag1[\"invoices\"]) <= 5, \"Page size exceeded 5 invoices\"\n        assert \"total\" in data_pag1 and isinstance(data_pag1[\"total\"], int), \"'total' count missing or invalid\"\n\n        # 2. Test pagination page=2, should not have overlapping invoices with page=1\n        params_pag2 = {\"page\": 2, \"pageSize\": 5}\n        resp_pag2 = requests.get(endpoint, headers=HEADERS, params=params_pag2, timeout=30)\n        assert resp_pag2.status_code == 200, f\"Status code: {resp_pag2.status_code}\"\n        assert resp_pag2.content, \"Empty response content for page 2\"\n        try:\n            data_pag2 = resp_pag2.json()\n        except Exception as e:\n            assert False, f\"Invalid JSON in page 2 response: {e}\"\n        ids_page1 = {inv[\"id\"] for inv in data_pag1[\"invoices\"]}\n        ids_page2 = {inv[\"id\"] for inv in data_pag2[\"invoices\"]}\n        assert ids_page1.isdisjoint(ids_page2), \"Invoices in page 1 and page 2 overlapping\"\n\n        # 3. Test sorting by createdAt descending\n        params_sort_desc = {\"page\": 1, \"pageSize\": 5, \"sortBy\": \"createdAt\", \"sortOrder\": \"desc\"}\n        resp_sort_desc = requests.get(endpoint, headers=HEADERS, params=params_sort_desc, timeout=30)\n        assert resp_sort_desc.status_code == 200, f\"Status code: {resp_sort_desc.status_code}\"\n        assert resp_sort_desc.content, \"Empty response content for sorting desc\"\n        try:\n            invoices_desc = resp_sort_desc.json().get(\"invoices\", [])\n        except Exception as e:\n            assert False, f\"Invalid JSON in sorting desc response: {e}\"\n        dates_desc = [\n            datetime.fromisoformat(inv[\"createdAt\"].replace(\"Z\", \"+00:00\")) for inv in invoices_desc if \"createdAt\" in inv\n        ]\n        assert all(dates_desc[i] >= dates_desc[i + 1] for i in range(len(dates_desc) - 1)), \"Invoices not sorted descending by createdAt\"\n\n        # 4. Test sorting by createdAt ascending\n        params_sort_asc = {\"page\": 1, \"pageSize\": 5, \"sortBy\": \"createdAt\", \"sortOrder\": \"asc\"}\n        resp_sort_asc = requests.get(endpoint, headers=HEADERS, params=params_sort_asc, timeout=30)\n        assert resp_sort_asc.status_code == 200, f\"Status code: {resp_sort_asc.status_code}\"\n        assert resp_sort_asc.content, \"Empty response content for sorting asc\"\n        try:\n            invoices_asc = resp_sort_asc.json().get(\"invoices\", [])\n        except Exception as e:\n            assert False, f\"Invalid JSON in sorting asc response: {e}\"\n        dates_asc = [\n            datetime.fromisoformat(inv[\"createdAt\"].replace(\"Z\", \"+00:00\")) for inv in invoices_asc if \"createdAt\" in inv\n        ]\n        assert all(dates_asc[i] <= dates_asc[i + 1] for i in range(len(dates_asc) - 1)), \"Invoices not sorted ascending by createdAt\"\n\n        # 5. Test filtering by status badges, e.g. status=PAID\n        params_status = {\"page\": 1, \"pageSize\": 10, \"status\": \"PAID\"}\n        resp_status = requests.get(endpoint, headers=HEADERS, params=params_status, timeout=30)\n        assert resp_status.status_code == 200, f\"Status code: {resp_status.status_code}\"\n        assert resp_status.content, \"Empty response content for status filter\"\n        try:\n            invoices_status = resp_status.json().get(\"invoices\", [])\n        except Exception as e:\n            assert False, f\"Invalid JSON in status filter response: {e}\"\n        for inv in invoices_status:\n            assert \"status\" in inv, \"Invoice missing 'status' field\"\n            assert inv[\"status\"] == \"PAID\", f\"Invoice status mismatch: expected PAID but got {inv['status']}\"\n\n        # 6. Test filtering by a date range: from 30 days ago to today\n        today = datetime.utcnow().date()\n        date_from = (today - timedelta(days=30)).isoformat()\n        date_to = today.isoformat()\n        params_date_range = {\"page\": 1, \"pageSize\": 20, \"createdFrom\": date_from, \"createdTo\": date_to}\n        resp_date_range = requests.get(endpoint, headers=HEADERS, params=params_date_range, timeout=30)\n        assert resp_date_range.status_code == 200, f\"Status code: {resp_date_range.status_code}\"\n        assert resp_date_range.content, \"Empty response content for date range filter\"\n        try:\n            invoices_date_range = resp_date_range.json().get(\"invoices\", [])\n        except Exception as e:\n            assert False, f\"Invalid JSON in date range filter response: {e}\"\n        for inv in invoices_date_range:\n            assert \"createdAt\" in inv, \"Invoice missing 'createdAt' field\"\n            inv_date = datetime.fromisoformat(inv[\"createdAt\"].replace(\"Z\", \"+00:00\")).date()\n            assert date_from <= inv_date.isoformat() <= date_to, f\"Invoice createdAt {inv_date} out of range {date_from} to {date_to}\"\n\n        # 7. Validate presence of status badges on invoices and correct values (expected: e.g. PAID, PENDING, OVERDUE)\n        sample_invoices = invoices_date_range if invoices_date_range else data_pag1[\"invoices\"]\n        for inv in sample_invoices:\n            assert \"status\" in inv, \"Invoice missing status badge\"\n            assert inv[\"status\"] in {\"PAID\", \"PENDING\", \"OVERDUE\", \"CANCELLED\"}, f\"Unexpected invoice status badge: {inv['status']}\"\n\n    except (AssertionError, requests.RequestException, ValueError) as e:\n        raise AssertionError(f\"Test failed: {e}\")\n\n\nvalidate_invoice_listing_with_pagination_and_filters()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/requests/models.py\", line 974, in json\n    return complexjson.loads(self.text, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/__init__.py\", line 514, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/decoder.py\", line 386, in decode\n    obj, end = self.raw_decode(s)\n               ^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/decoder.py\", line 416, in raw_decode\n    return self.scan_once(s, idx=_w(s, idx).end())\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsimplejson.errors.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<string>\", line 26, in validate_invoice_listing_with_pagination_and_filters\n  File \"/var/task/requests/models.py\", line 978, in json\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\nrequests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<string>\", line 28, in validate_invoice_listing_with_pagination_and_filters\nAssertionError: Invalid JSON in page 1 response: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 114, in <module>\n  File \"<string>\", line 111, in validate_invoice_listing_with_pagination_and_filters\nAssertionError: Test failed: Invalid JSON in page 1 response: Expecting value: line 1 column 1 (char 0)\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-11-24T21:14:24.608Z",
    "modified": "2025-11-24T21:16:24.661Z"
  },
  {
    "projectId": "b0311687-2228-436f-8b5b-13b6e6aa4f85",
    "testId": "6fe52329-9644-40e9-8dfe-38173018eb73",
    "userId": "54a864b8-1081-70dd-ad79-74b8b9f2ba56",
    "title": "TC003-test_partial_payment_processing_and_status_update",
    "description": "Ensure that partial payments on invoices are processed correctly, updating invoice statuses and audit logs accordingly.",
    "code": "import requests\nimport uuid\n\nBASE_URL = \"http://localhost:3000\"\nHEADERS = {\n    \"Content-Type\": \"application/json\"\n}\nTIMEOUT = 30\n\ndef test_partial_payment_processing_and_status_update():\n    invoice_id = None\n    try:\n        # Step 1: Create a new invoice resource to ensure test isolation\n        create_invoice_payload = {\n            \"customerId\": str(uuid.uuid4()),\n            \"items\": [\n                {\"description\": \"Test product\", \"quantity\": 2, \"unitPrice\": 100.0}\n            ],\n            \"taxRate\": 0.1,\n            \"status\": \"pending\",\n            \"totalAmount\": 200.0,\n            \"paidAmount\": 0.0\n        }\n        create_resp = requests.post(\n            f\"{BASE_URL}/api/invoices\",\n            headers=HEADERS,\n            json=create_invoice_payload,\n            timeout=TIMEOUT\n        )\n        assert create_resp.status_code == 201, f\"Invoice creation failed: {create_resp.text}\"\n        invoice = create_resp.json()\n        invoice_id = invoice.get(\"id\")\n        assert invoice_id is not None, \"Created invoice ID is None\"\n\n        # Step 2: Make a partial payment on the created invoice\n        partial_payment_payload = {\n            \"paymentAmount\": 50.0  # Partial payment less than totalAmount=200.0\n        }\n        payment_resp = requests.post(\n            f\"{BASE_URL}/api/invoices/{invoice_id}/payments\",\n            headers=HEADERS,\n            json=partial_payment_payload,\n            timeout=TIMEOUT\n        )\n        assert payment_resp.status_code == 200, f\"Partial payment failed: {payment_resp.text}\"\n        payment_result = payment_resp.json()\n\n        # Validate payment response contains updated paidAmount and invoice status\n        updated_paid_amount = payment_result.get(\"paidAmount\")\n        updated_status = payment_result.get(\"status\")\n        assert updated_paid_amount == 50.0, f\"Expected paidAmount=50.0, got {updated_paid_amount}\"\n        assert updated_status in [\"partial\", \"pending\"], f\"Unexpected status after partial payment: {updated_status}\"\n\n        # Step 3: Retrieve invoice to confirm status and paid amount updated\n        get_invoice_resp = requests.get(\n            f\"{BASE_URL}/api/invoices/{invoice_id}\",\n            headers=HEADERS,\n            timeout=TIMEOUT\n        )\n        assert get_invoice_resp.status_code == 200, f\"Failed to fetch invoice: {get_invoice_resp.text}\"\n        invoice_data = get_invoice_resp.json()\n        assert invoice_data.get(\"paidAmount\") == 50.0, \"Invoice paidAmount did not update correctly\"\n        assert invoice_data.get(\"status\") in [\"partial\", \"pending\"], \"Invoice status not updated correctly\"\n\n        # Step 4: Check audit logs for the payment event\n        audit_logs_resp = requests.get(\n            f\"{BASE_URL}/api/invoices/{invoice_id}/logs\",\n            headers=HEADERS,\n            timeout=TIMEOUT\n        )\n        assert audit_logs_resp.status_code == 200, f\"Failed to fetch audit logs: {audit_logs_resp.text}\"\n        logs = audit_logs_resp.json()\n        # Verify an audit log exists for the partial payment\n        payment_logs = [log for log in logs if log.get(\"event\") == \"partial_payment\" and log.get(\"amount\") == 50.0]\n        assert len(payment_logs) > 0, \"No audit log entry for partial payment found\"\n\n    finally:\n        # Clean up: Delete the created invoice if it exists\n        if invoice_id:\n            try:\n                del_resp = requests.delete(\n                    f\"{BASE_URL}/api/invoices/{invoice_id}\",\n                    headers=HEADERS,\n                    timeout=TIMEOUT\n                )\n                # It's okay if delete fails, but log if needed\n            except Exception:\n                pass\n\n\ntest_partial_payment_processing_and_status_update()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 91, in <module>\n  File \"<string>\", line 30, in test_partial_payment_processing_and_status_update\nAssertionError: Invoice creation failed: <!DOCTYPE html><html lang=\"en\"><head><meta charSet=\"utf-8\"/><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/><link rel=\"stylesheet\" href=\"/_next/static/css/app/layout.css?v=1764018965233\" data-precedence=\"next_static/css/app/layout.css\"/><link rel=\"preload\" as=\"script\" fetchPriority=\"low\" href=\"/_next/static/chunks/webpack.js?v=1764018965233\"/><script src=\"/_next/static/chunks/main-app.js?v=1764018965233\" async=\"\"></script><script src=\"/_next/static/chunks/app-pages-internals.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/login/page.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/layout.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/not-found.js\" async=\"\"></script><link rel=\"preload\" href=\"/fonts/Rebels-Fett.woff2\" as=\"font\" type=\"font/woff2\" crossorigin=\"anonymous\"/><title>Login - Tapan Go â€“ Tapan Go</title><meta name=\"description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta name=\"generator\" content=\"v0.app\"/><meta property=\"og:title\" content=\"Login - Tapan Go â€“ Tapan Go\"/><meta property=\"og:description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta property=\"og:image:type\" content=\"image/png\"/><meta property=\"og:image:width\" content=\"1200\"/><meta property=\"og:image:height\" content=\"630\"/><meta property=\"og:image\" content=\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\"/><meta name=\"twitter:card\" content=\"summary_large_image\"/><meta name=\"twitter:title\" content=\"Login - Tapan Go â€“ Tapan Go\"/><meta name=\"twitter:description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta name=\"twitter:image:type\" content=\"image/png\"/><meta name=\"twitter:image:width\" content=\"1200\"/><meta name=\"twitter:image:height\" content=\"630\"/><meta name=\"twitter:image\" content=\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\"/><link rel=\"icon\" href=\"/favicon.ico\" type=\"image/x-icon\" sizes=\"16x16\"/><script src=\"/_next/static/chunks/polyfills.js\" noModule=\"\"></script></head><body class=\"__variable_d3c944 __variable_5899e0 antialiased\"><script>((e, i, s, u, m, a, l, h)=>{\n    let d = document.documentElement, w = [\n        \"light\",\n        \"dark\"\n    ];\n    function p(n) {\n        (Array.isArray(e) ? e : [\n            e\n        ]).forEach((y)=>{\n            let k = y === \"class\", S = k && a ? m.map((f)=>a[f] || f) : m;\n            k ? (d.classList.remove(...S), d.classList.add(a && a[n] ? a[n] : n)) : d.setAttribute(y, n);\n        }), R(n);\n    }\n    function R(n) {\n        h && w.includes(n) && (d.style.colorScheme = n);\n    }\n    function c() {\n        return window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n    }\n    if (u) p(u);\n    else try {\n        let n = localStorage.getItem(i) || s, y = l && n === \"system\" ? c() : n;\n        p(y);\n    } catch (n) {}\n})(\"class\",\"theme\",\"dark\",null,[\"light\",\"dark\"],null,false,true)</script><div class=\"min-h-screen flex flex-col bg-background\"><header class=\"border-b border-border\"><div class=\"flex items-center justify-between px-6 lg:px-8 py-4 max-w-6xl mx-auto\"><div class=\"flex items-center gap-3\"><div class=\"h-10 w-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-xl font-display\">ðŸ“¦</div><div class=\"flex flex-col\"><span class=\"text-base font-display font-bold tracking-wide\">TAPAN GO</span><span class=\"text-xs uppercase tracking-widest text-muted-foreground\">Cargo Network Console</span></div></div><a data-slot=\"button\" class=\"inline-flex items-center justify-center uppercase whitespace-nowrap text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 has-[&gt;svg]:px-2.5 h-9 px-3\" href=\"/\">Back to overview</a></div></header><main class=\"flex-1 flex items-center justify-center px-4 py-8 lg:py-10\"><div class=\"w-full max-w-5xl grid gap-8 lg:gap-10 lg:grid-cols-[1.15fr_minmax(0,1fr)] items-center\"><section class=\"space-y-5 max-w-lg order-2 lg:order-1\"><div class=\"inline-flex items-center gap-2 rounded-full border border-border/60 bg-background/60 px-3 py-1 text-[10px] md:text-[11px] tracking-[0.18em] uppercase text-muted-foreground\"><span class=\"h-1.5 w-1.5 rounded-full bg-emerald-500\"></span><span>Ops access Â· Internal use only Â· Imphal â†” New Delhi</span></div><h1 class=\"text-2xl md:text-3xl font-display font-bold leading-tight\">Sign in to Tapan Go ops console.</h1><p class=\"text-sm text-muted-foreground max-w-prose leading-relaxed\">Use your staff or partner account to follow cargo between Imphal and New Delhi and manage key bookings and updates.</p><ul class=\"text-[11px] md:text-xs text-muted-foreground space-y-1\"><li>See today&#x27;s shipments, lanes, and exceptions in one place.</li><li>Coordinate air, land, and doorstep pick &amp; drop across the network.</li><li>Restricted to Tapan Go operations teams and trusted partners.</li></ul></section><section class=\"w-full max-w-md ml-auto order-1 lg:order-2\"><div data-slot=\"card\" class=\"text-card-foreground flex flex-col gap-2 rounded-lg p-6 bg-card/90 border-border/80 shadow-[0_18px_60px_rgba(0,0,0,0.7)]\"><div class=\"mb-4 space-y-1\"><h2 class=\"text-sm font-semibold\">Login</h2><p class=\"text-xs text-muted-foreground\">Enter your email and password to continue.</p></div><form class=\"space-y-4\"><div class=\"space-y-2\"><label data-slot=\"label\" class=\"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\" for=\"email\">Work email</label><input type=\"email\" data-slot=\"input\" class=\"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\" id=\"email\" autoComplete=\"email\" placeholder=\"ops@tapango.logistics\" value=\"ops@example.com\"/></div><div class=\"space-y-2\"><label data-slot=\"label\" class=\"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\" for=\"password\">Password</label><input type=\"password\" data-slot=\"input\" class=\"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\" id=\"password\" autoComplete=\"current-password\" placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" value=\"\"/></div><button data-slot=\"button\" class=\"inline-flex items-center justify-center uppercase gap-2 whitespace-nowrap rounded-md text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2 has-[&gt;svg]:px-3 w-full\" type=\"submit\">Login</button></form><div class=\"mt-3 flex justify-end\"><button type=\"button\" class=\"text-[11px] text-muted-foreground hover:text-foreground underline-offset-4 hover:underline\">Forgot password?</button></div></div></section></div></main></div><div role=\"region\" aria-label=\"Notifications (F8)\" tabindex=\"-1\" style=\"pointer-events:none\"><ol tabindex=\"-1\" class=\"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\"></ol></div><script src=\"/_next/static/chunks/webpack.js?v=1764018965233\" async=\"\"></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,\"1:HL[\\\"/_next/static/css/app/layout.css?v=1764018965233\\\",\\\"style\\\"]\\n0:D{\\\"name\\\":\\\"r2\\\",\\\"env\\\":\\\"Server\\\"}\\n\"])</script><script>self.__next_f.push([1,\"2:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/app-router.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\n6:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/link.js\\\",[\\\"app/login/page\\\",\\\"static/chunks/app/login/page.js\\\"],\\\"\\\"]\\n8:I[\\\"(app-pages-browser)/./components/auth/login-form.tsx\\\",[\\\"app/login/page\\\",\\\"static/chunks/app/login/page.js\\\"],\\\"LoginForm\\\"]\\n9:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\na:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/render-from-template-context.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\ne:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/error-boundary.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\n3:D{\\\"name\\\":\\\"\\\",\\\"env\\\":\\\"Server\\\"}\\n4:D{\\\"name\\\":\\\"LoginPage\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Button\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Slot.Slot\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Slot.SlotClone\\\",\\\"env\\\":\\\"Server\\\"}\\n5:[\\\"$\\\",\\\"$L6\\\",null,{\\\"href\\\":\\\"/\\\",\\\"children\\\":\\\"Back to overview\\\",\\\"data-slot\\\":\\\"button\\\",\\\"className\\\":\\\"inline-flex items-center justify-center uppercase whitespace-nowrap text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [\\u0026_svg]:pointer-events-none [\\u0026_svg:not([class*='size-'])]:size-4 shrink-0 [\\u0026_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 has-[\\u003esvg]:px-2.5 h-9 px-3\\\"}]\\n7:D{\\\"name\\\":\\\"Card\\\",\\\"env\\\":\\\"Server\\\"}\\n7:[\\\"$\\\",\\\"div\\\",null,{\\\"data-slot\\\":\\\"card\\\",\\\"className\\\":\\\"text-card-foreground flex flex-col gap-2 rounded-lg p-6 bg-card/90 border-border/80 shadow-[0_18px_60px_rgba(0,0,0,0.7)]\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"mb-4 space-y-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"h2\\\",null,{\\\"className\\\":\\\"text-sm font-semibold\\\",\\\"children\\\":\"])</script><script>self.__next_f.push([1,\"\\\"Login\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-xs text-muted-foreground\\\",\\\"children\\\":\\\"Enter your email and password to continue.\\\"}]]}],[\\\"$\\\",\\\"$L8\\\",null,{}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"mt-3 flex justify-end\\\",\\\"children\\\":[\\\"$\\\",\\\"button\\\",null,{\\\"type\\\":\\\"button\\\",\\\"className\\\":\\\"text-[11px] text-muted-foreground hover:text-foreground underline-offset-4 hover:underline\\\",\\\"children\\\":\\\"Forgot password?\\\"}]}]]}]\\n\"])</script><script>self.__next_f.push([1,\"4:[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"min-h-screen flex flex-col bg-background\\\",\\\"children\\\":[[\\\"$\\\",\\\"header\\\",null,{\\\"className\\\":\\\"border-b border-border\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center justify-between px-6 lg:px-8 py-4 max-w-6xl mx-auto\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center gap-3\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"h-10 w-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-xl font-display\\\",\\\"children\\\":\\\"ðŸ“¦\\\"}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col\\\",\\\"children\\\":[[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"text-base font-display font-bold tracking-wide\\\",\\\"children\\\":\\\"TAPAN GO\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"text-xs uppercase tracking-widest text-muted-foreground\\\",\\\"children\\\":\\\"Cargo Network Console\\\"}]]}]]}],\\\"$5\\\"]}]}],[\\\"$\\\",\\\"main\\\",null,{\\\"className\\\":\\\"flex-1 flex items-center justify-center px-4 py-8 lg:py-10\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"w-full max-w-5xl grid gap-8 lg:gap-10 lg:grid-cols-[1.15fr_minmax(0,1fr)] items-center\\\",\\\"children\\\":[[\\\"$\\\",\\\"section\\\",null,{\\\"className\\\":\\\"space-y-5 max-w-lg order-2 lg:order-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"inline-flex items-center gap-2 rounded-full border border-border/60 bg-background/60 px-3 py-1 text-[10px] md:text-[11px] tracking-[0.18em] uppercase text-muted-foreground\\\",\\\"children\\\":[[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"h-1.5 w-1.5 rounded-full bg-emerald-500\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"children\\\":\\\"Ops access Â· Internal use only Â· Imphal â†” New Delhi\\\"}]]}],[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-2xl md:text-3xl font-display font-bold leading-tight\\\",\\\"children\\\":\\\"Sign in to Tapan Go ops console.\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-sm text-muted-foreground max-w-prose leading-relaxed\\\",\\\"children\\\":\\\"Use your staff or partner account to follow cargo between Imphal and New Delhi and manage key bookings and updates.\\\"}],[\\\"$\\\",\\\"ul\\\",null,{\\\"className\\\":\\\"text-[11px] md:text-xs text-muted-foreground space-y-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"See today's shipments, lanes, and exceptions in one place.\\\"}],[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"Coordinate air, land, and doorstep pick \\u0026 drop across the network.\\\"}],[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"Restricted to Tapan Go operations teams and trusted partners.\\\"}]]}]]}],[\\\"$\\\",\\\"section\\\",null,{\\\"className\\\":\\\"w-full max-w-md ml-auto order-1 lg:order-2\\\",\\\"children\\\":\\\"$7\\\"}]]}]}]]}]\\n\"])</script><script>self.__next_f.push([1,\"b:D{\\\"name\\\":\\\"RootLayout\\\",\\\"env\\\":\\\"Server\\\"}\\nc:D{\\\"name\\\":\\\"rQ\\\",\\\"env\\\":\\\"Server\\\"}\\nc:null\\nd:D{\\\"name\\\":\\\"\\\",\\\"env\\\":\\\"Server\\\"}\\nf:[]\\n0:[\\\"$\\\",\\\"$L2\\\",null,{\\\"buildId\\\":\\\"development\\\",\\\"assetPrefix\\\":\\\"\\\",\\\"urlParts\\\":[\\\"\\\",\\\"login\\\"],\\\"initialTree\\\":[\\\"\\\",{\\\"children\\\":[\\\"login\\\",{\\\"children\\\":[\\\"__PAGE__\\\",{}]}]},\\\"$undefined\\\",\\\"$undefined\\\",true],\\\"initialSeedData\\\":[\\\"\\\",{\\\"children\\\":[\\\"login\\\",{\\\"children\\\":[\\\"__PAGE__\\\",{},[[\\\"$L3\\\",\\\"$4\\\",null],null],null]},[null,[\\\"$\\\",\\\"$L9\\\",null,{\\\"parallelRouterKey\\\":\\\"children\\\",\\\"segmentPath\\\":[\\\"children\\\",\\\"login\\\",\\\"children\\\"],\\\"error\\\":\\\"$undefined\\\",\\\"errorStyles\\\":\\\"$undefined\\\",\\\"errorScripts\\\":\\\"$undefined\\\",\\\"template\\\":[\\\"$\\\",\\\"$La\\\",null,{}],\\\"templateStyles\\\":\\\"$undefined\\\",\\\"templateScripts\\\":\\\"$undefined\\\",\\\"notFound\\\":\\\"$undefined\\\",\\\"notFoundStyles\\\":\\\"$undefined\\\"}]],null]},[[[[\\\"$\\\",\\\"link\\\",\\\"0\\\",{\\\"rel\\\":\\\"stylesheet\\\",\\\"href\\\":\\\"/_next/static/css/app/layout.css?v=1764018965233\\\",\\\"precedence\\\":\\\"next_static/css/app/layout.css\\\",\\\"crossOrigin\\\":\\\"$undefined\\\"}]],\\\"$Lb\\\"],null],null],\\\"couldBeIntercepted\\\":false,\\\"initialHead\\\":[\\\"$c\\\",\\\"$Ld\\\"],\\\"globalErrorComponent\\\":\\\"$e\\\",\\\"missingSlots\\\":\\\"$Wf\\\"}]\\n\"])</script><script>self.__next_f.push([1,\"10:I[\\\"(app-pages-browser)/./components/theme-provider.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"ThemeProvider\\\"]\\n11:I[\\\"(app-pages-browser)/./lib/v0-context.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"V0Provider\\\"]\\n12:I[\\\"(app-pages-browser)/./components/layout/root-shell.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"RootShell\\\"]\\n15:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/image-component.js\\\",[\\\"app/not-found\\\",\\\"static/chunks/app/not-found.js\\\"],\\\"Image\\\"]\\n16:I[\\\"(app-pages-browser)/./components/ui/toaster.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"Toaster\\\"]\\n13:D{\\\"name\\\":\\\"NotFound\\\",\\\"env\\\":\\\"Server\\\"}\\n13:D{\\\"name\\\":\\\"DashboardPageLayout\\\",\\\"env\\\":\\\"Server\\\"}\\n14:D{\\\"name\\\":\\\"CuteRobotIcon\\\",\\\"env\\\":\\\"Server\\\"}\\n14:[\\\"$\\\",\\\"svg\\\",null,{\\\"xmlns\\\":\\\"http://www.w3.org/2000/svg\\\",\\\"width\\\":20,\\\"height\\\":20,\\\"viewBox\\\":\\\"0 0 20 20\\\",\\\"fill\\\":\\\"none\\\",\\\"className\\\":\\\"ml-1 lg:ml-0 opacity-50 md:opacity-100 size-5\\\",\\\"children\\\":[\\\"$\\\",\\\"path\\\",null,{\\\"stroke\\\":\\\"currentColor\\\",\\\"strokeLinecap\\\":\\\"square\\\",\\\"strokeWidth\\\":1.667,\\\"d\\\":\\\"M10 3.333H4.166v7.5h11.667v-7.5H10Zm0 0V1.667m-6.667 12.5 1.25-1.25m12.083 1.25-1.25-1.25M7.5 6.667V7.5m5-.833V7.5M5 10.833V12.5a5 5 0 0 0 10 0v-1.667\\\"}]}]\\n13:[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col relative w-full gap-1 min-h-full\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center lg:items-baseline gap-2.5 md:gap-4 px-4 md:px-6 py-3 md:pb-4 lg:pt-7 ring-2 ring-pop sticky top-header-mobile lg:top-0 bg-background z-10 print:hidden\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"max-lg:contents rounded bg-primary size-7 md:size-9 flex items-center justify-center my-auto\\\",\\\"children\\\":\\\"$14\\\"}],[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-xl lg:text-4xl font-display leading-[1] mb-1\\\",\\\"children\\\":\\\"Not found\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"ml-auto text-xs md:text-sm text-muted-foreground block pr-16 lg:pr-24 text-right\\\",\\\"children\\\":\\\"page under construction\\\"}]]}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"min-h-full flex-1 flex flex-col gap-8 md:gap-14 px-3 lg:px-6 py-6 md:py-10 ring-2 ring-pop bg-background\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\"\"])</script><script>self.__next_f.push([1,\":\\\"flex flex-col items-center justify-center gap-10 flex-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"picture\\\",null,{\\\"className\\\":\\\"w-1/4 aspect-square grayscale opacity-50\\\",\\\"children\\\":[\\\"$\\\",\\\"$L15\\\",null,{\\\"src\\\":\\\"/assets/bot_greenprint.gif\\\",\\\"alt\\\":\\\"Security Status\\\",\\\"width\\\":1000,\\\"height\\\":1000,\\\"quality\\\":90,\\\"sizes\\\":\\\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\\\",\\\"className\\\":\\\"size-full object-contain\\\"}]}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col items-center justify-center gap-2\\\",\\\"children\\\":[[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-xl font-bold uppercase text-muted-foreground\\\",\\\"children\\\":\\\"Not found, yet\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-sm max-w-sm text-center text-muted-foreground text-balance\\\",\\\"children\\\":\\\"Fork on v0 and start promoting your way to new pages.\\\"}]]}]]}]}]]}]\\nb:[\\\"$\\\",\\\"html\\\",null,{\\\"lang\\\":\\\"en\\\",\\\"suppressHydrationWarning\\\":true,\\\"children\\\":[[\\\"$\\\",\\\"head\\\",null,{\\\"children\\\":[\\\"$\\\",\\\"link\\\",null,{\\\"rel\\\":\\\"preload\\\",\\\"href\\\":\\\"/fonts/Rebels-Fett.woff2\\\",\\\"as\\\":\\\"font\\\",\\\"type\\\":\\\"font/woff2\\\",\\\"crossOrigin\\\":\\\"anonymous\\\"}]}],[\\\"$\\\",\\\"body\\\",null,{\\\"className\\\":\\\"__variable_d3c944 __variable_5899e0 antialiased\\\",\\\"children\\\":[\\\"$\\\",\\\"$L10\\\",null,{\\\"attribute\\\":\\\"class\\\",\\\"defaultTheme\\\":\\\"dark\\\",\\\"enableSystem\\\":false,\\\"children\\\":[\\\"$\\\",\\\"$L11\\\",null,{\\\"isV0\\\":false,\\\"children\\\":[[\\\"$\\\",\\\"$L12\\\",null,{\\\"notifications\\\":[],\\\"defaultWidgetData\\\":{\\\"location\\\":\\\"New Delhi, India\\\",\\\"timezone\\\":\\\"Asia/Kolkata\\\",\\\"temperature\\\":\\\"30Â°C / Clear\\\",\\\"weather\\\":\\\"Clear skies\\\",\\\"date\\\":\\\"2025-11-24T21:15:15.748Z\\\"},\\\"children\\\":[\\\"$\\\",\\\"$L9\\\",null,{\\\"parallelRouterKey\\\":\\\"children\\\",\\\"segmentPath\\\":[\\\"children\\\"],\\\"error\\\":\\\"$undefined\\\",\\\"errorStyles\\\":\\\"$undefined\\\",\\\"errorScripts\\\":\\\"$undefined\\\",\\\"template\\\":[\\\"$\\\",\\\"$La\\\",null,{}],\\\"templateStyles\\\":\\\"$undefined\\\",\\\"templateScripts\\\":\\\"$undefined\\\",\\\"notFound\\\":\\\"$13\\\",\\\"notFoundStyles\\\":[]}]}],[\\\"$\\\",\\\"$L16\\\",null,{}]]}]}]}]]}]\\nd:[[\\\"$\\\",\\\"meta\\\",\\\"0\\\",{\\\"name\\\":\\\"viewport\\\",\\\"content\\\":\\\"width=device-width, initial-scale=1\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"1\\\",{\\\"charSet\\\":\\\"utf-8\\\"}],[\\\"$\\\",\\\"title\\\",\\\"2\\\",{\\\"children\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"3\\\",{\\\"name\\\":\\\"description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\"])</script><script>self.__next_f.push([1,\"\\\",\\\"meta\\\",\\\"4\\\",{\\\"name\\\":\\\"generator\\\",\\\"content\\\":\\\"v0.app\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"5\\\",{\\\"property\\\":\\\"og:title\\\",\\\"content\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"6\\\",{\\\"property\\\":\\\"og:description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"7\\\",{\\\"property\\\":\\\"og:image:type\\\",\\\"content\\\":\\\"image/png\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"8\\\",{\\\"property\\\":\\\"og:image:width\\\",\\\"content\\\":\\\"1200\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"9\\\",{\\\"property\\\":\\\"og:image:height\\\",\\\"content\\\":\\\"630\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"10\\\",{\\\"property\\\":\\\"og:image\\\",\\\"content\\\":\\\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"11\\\",{\\\"name\\\":\\\"twitter:card\\\",\\\"content\\\":\\\"summary_large_image\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"12\\\",{\\\"name\\\":\\\"twitter:title\\\",\\\"content\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"13\\\",{\\\"name\\\":\\\"twitter:description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"14\\\",{\\\"name\\\":\\\"twitter:image:type\\\",\\\"content\\\":\\\"image/png\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"15\\\",{\\\"name\\\":\\\"twitter:image:width\\\",\\\"content\\\":\\\"1200\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"16\\\",{\\\"name\\\":\\\"twitter:image:height\\\",\\\"content\\\":\\\"630\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"17\\\",{\\\"name\\\":\\\"twitter:image\\\",\\\"content\\\":\\\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\\\"}],[\\\"$\\\",\\\"link\\\",\\\"18\\\",{\\\"rel\\\":\\\"icon\\\",\\\"href\\\":\\\"/favicon.ico\\\",\\\"type\\\":\\\"image/x-icon\\\",\\\"sizes\\\":\\\"16x16\\\"}]]\\n3:null\\n\"])</script></body></html>\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-11-24T21:14:24.615Z",
    "modified": "2025-11-24T21:16:05.038Z"
  },
  {
    "projectId": "b0311687-2228-436f-8b5b-13b6e6aa4f85",
    "testId": "528252d3-5ce8-417c-bf9c-f96938badada",
    "userId": "54a864b8-1081-70dd-ad79-74b8b9f2ba56",
    "title": "TC004-barcode_scanner_input_and_scan_event_recording",
    "description": "Validate that barcode scanning via camera and keyboard inputs successfully detects codes and records scan events linked to manifests.",
    "code": "import requests\nimport uuid\n\nBASE_URL = \"http://localhost:3000\"\nAPI_KEY = \"sbp_319164fa6ae5e2f85df9b36646881e9219e37381\"\nHEADERS = {\n    \"Content-Type\": \"application/json\",\n    \"Authorization\": f\"Bearer {API_KEY}\",\n}\n\ndef test_barcode_scanner_input_and_scan_event_recording():\n    \"\"\"\n    Validate that barcode scanning via camera and keyboard inputs successfully detects codes\n    and records scan events linked to manifests.\n    \"\"\"\n\n    # Helper function to create a manifest to link scan events to\n    def create_manifest():\n        manifest_data = {\n            \"origin\": \"Warehouse A\",\n            \"destination\": \"Warehouse B\",\n            \"airline\": \"AirTest\",\n            \"flightNumber\": f\"AT-{uuid.uuid4().hex[:6]}\",\n            \"departureDate\": \"2025-12-01T10:00:00Z\"\n        }\n        response = requests.post(\n            f\"{BASE_URL}/api/manifests\",\n            headers=HEADERS,\n            json=manifest_data,\n            timeout=30\n        )\n        if response.status_code != 201:\n            raise AssertionError(f\"Failed to create manifest: {response.status_code} {response.text}\")\n        return response.json()\n\n    # Helper function to delete manifest by id\n    def delete_manifest(manifest_id):\n        response = requests.delete(\n            f\"{BASE_URL}/api/manifests/{manifest_id}\",\n            headers=HEADERS,\n            timeout=30\n        )\n        if response.status_code not in (200, 204):\n            raise AssertionError(f\"Failed to delete manifest {manifest_id}: {response.status_code} {response.text}\")\n\n    # Helper to simulate barcode scan input via API\n    def record_scan_event(manifest_id, barcode_value, input_method):\n        scan_event_data = {\n            \"manifestId\": manifest_id,\n            \"barcode\": barcode_value,\n            \"inputMethod\": input_method  # \"camera\" or \"keyboard\"\n        }\n        response = requests.post(\n            f\"{BASE_URL}/api/scans\",\n            headers=HEADERS,\n            json=scan_event_data,\n            timeout=30\n        )\n        return response\n\n    manifest = None\n    try:\n        # Step 1: Create a manifest to link scan events\n        manifest = create_manifest()\n        manifest_id = manifest.get(\"id\")\n        assert manifest_id, \"Manifest creation did not return an id.\"\n\n        # Step 2: Simulate barcode scan via camera input\n        camera_barcode = f\"CAM-{uuid.uuid4().hex[:8]}\"\n        response_camera = record_scan_event(manifest_id, camera_barcode, \"camera\")\n        assert response_camera.status_code == 201, f\"Camera scan event recording failed: {response_camera.text}\"\n        scan_event_camera = response_camera.json()\n        assert scan_event_camera.get(\"manifestId\") == manifest_id, \"Camera scan event manifestId mismatch\"\n        assert scan_event_camera.get(\"barcode\") == camera_barcode, \"Camera scan event barcode mismatch\"\n        assert scan_event_camera.get(\"inputMethod\") == \"camera\", \"Camera scan event inputMethod mismatch\"\n        assert scan_event_camera.get(\"timestamp\"), \"Camera scan event missing timestamp\"\n\n        # Step 3: Simulate barcode scan via keyboard input\n        keyboard_barcode = f\"KEY-{uuid.uuid4().hex[:8]}\"\n        response_keyboard = record_scan_event(manifest_id, keyboard_barcode, \"keyboard\")\n        assert response_keyboard.status_code == 201, f\"Keyboard scan event recording failed: {response_keyboard.text}\"\n        scan_event_keyboard = response_keyboard.json()\n        assert scan_event_keyboard.get(\"manifestId\") == manifest_id, \"Keyboard scan event manifestId mismatch\"\n        assert scan_event_keyboard.get(\"barcode\") == keyboard_barcode, \"Keyboard scan event barcode mismatch\"\n        assert scan_event_keyboard.get(\"inputMethod\") == \"keyboard\", \"Keyboard scan event inputMethod mismatch\"\n        assert scan_event_keyboard.get(\"timestamp\"), \"Keyboard scan event missing timestamp\"\n\n        # Step 4: Retrieve scan events linked to the manifest and verify both events are present\n        response_get_scans = requests.get(\n            f\"{BASE_URL}/api/manifests/{manifest_id}/scans\",\n            headers=HEADERS,\n            timeout=30\n        )\n        assert response_get_scans.status_code == 200, f\"Failed to retrieve scan events: {response_get_scans.text}\"\n        scans = response_get_scans.json()\n        assert isinstance(scans, list), \"Scan events response is not a list\"\n\n        # Verify both barcodes are in the scan events linked to manifest\n        barcodes_in_scans = {scan.get(\"barcode\") for scan in scans}\n        assert camera_barcode in barcodes_in_scans, \"Camera barcode scan event not found in manifest scans\"\n        assert keyboard_barcode in barcodes_in_scans, \"Keyboard barcode scan event not found in manifest scans\"\n\n    finally:\n        # Cleanup manifest\n        if manifest and manifest.get(\"id\"):\n            try:\n                delete_manifest(manifest.get(\"id\"))\n            except Exception:\n                pass\n\ntest_barcode_scanner_input_and_scan_event_recording()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 111, in <module>\n  File \"<string>\", line 64, in test_barcode_scanner_input_and_scan_event_recording\n  File \"<string>\", line 33, in create_manifest\nAssertionError: Failed to create manifest: 200 <!DOCTYPE html><html lang=\"en\"><head><meta charSet=\"utf-8\"/><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/><link rel=\"stylesheet\" href=\"/_next/static/css/app/layout.css?v=1764018951011\" data-precedence=\"next_static/css/app/layout.css\"/><link rel=\"preload\" as=\"script\" fetchPriority=\"low\" href=\"/_next/static/chunks/webpack.js?v=1764018951011\"/><script src=\"/_next/static/chunks/main-app.js?v=1764018951011\" async=\"\"></script><script src=\"/_next/static/chunks/app-pages-internals.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/login/page.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/layout.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/not-found.js\" async=\"\"></script><link rel=\"preload\" href=\"/fonts/Rebels-Fett.woff2\" as=\"font\" type=\"font/woff2\" crossorigin=\"anonymous\"/><title>Login - Tapan Go â€“ Tapan Go</title><meta name=\"description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta name=\"generator\" content=\"v0.app\"/><meta property=\"og:title\" content=\"Login - Tapan Go â€“ Tapan Go\"/><meta property=\"og:description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta property=\"og:image:type\" content=\"image/png\"/><meta property=\"og:image:width\" content=\"1200\"/><meta property=\"og:image:height\" content=\"630\"/><meta property=\"og:image\" content=\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\"/><meta name=\"twitter:card\" content=\"summary_large_image\"/><meta name=\"twitter:title\" content=\"Login - Tapan Go â€“ Tapan Go\"/><meta name=\"twitter:description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta name=\"twitter:image:type\" content=\"image/png\"/><meta name=\"twitter:image:width\" content=\"1200\"/><meta name=\"twitter:image:height\" content=\"630\"/><meta name=\"twitter:image\" content=\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\"/><link rel=\"icon\" href=\"/favicon.ico\" type=\"image/x-icon\" sizes=\"16x16\"/><script src=\"/_next/static/chunks/polyfills.js\" noModule=\"\"></script></head><body class=\"__variable_d3c944 __variable_5899e0 antialiased\"><script>((e, i, s, u, m, a, l, h)=>{\n    let d = document.documentElement, w = [\n        \"light\",\n        \"dark\"\n    ];\n    function p(n) {\n        (Array.isArray(e) ? e : [\n            e\n        ]).forEach((y)=>{\n            let k = y === \"class\", S = k && a ? m.map((f)=>a[f] || f) : m;\n            k ? (d.classList.remove(...S), d.classList.add(a && a[n] ? a[n] : n)) : d.setAttribute(y, n);\n        }), R(n);\n    }\n    function R(n) {\n        h && w.includes(n) && (d.style.colorScheme = n);\n    }\n    function c() {\n        return window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n    }\n    if (u) p(u);\n    else try {\n        let n = localStorage.getItem(i) || s, y = l && n === \"system\" ? c() : n;\n        p(y);\n    } catch (n) {}\n})(\"class\",\"theme\",\"dark\",null,[\"light\",\"dark\"],null,false,true)</script><div class=\"min-h-screen flex flex-col bg-background\"><header class=\"border-b border-border\"><div class=\"flex items-center justify-between px-6 lg:px-8 py-4 max-w-6xl mx-auto\"><div class=\"flex items-center gap-3\"><div class=\"h-10 w-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-xl font-display\">ðŸ“¦</div><div class=\"flex flex-col\"><span class=\"text-base font-display font-bold tracking-wide\">TAPAN GO</span><span class=\"text-xs uppercase tracking-widest text-muted-foreground\">Cargo Network Console</span></div></div><a data-slot=\"button\" class=\"inline-flex items-center justify-center uppercase whitespace-nowrap text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 has-[&gt;svg]:px-2.5 h-9 px-3\" href=\"/\">Back to overview</a></div></header><main class=\"flex-1 flex items-center justify-center px-4 py-8 lg:py-10\"><div class=\"w-full max-w-5xl grid gap-8 lg:gap-10 lg:grid-cols-[1.15fr_minmax(0,1fr)] items-center\"><section class=\"space-y-5 max-w-lg order-2 lg:order-1\"><div class=\"inline-flex items-center gap-2 rounded-full border border-border/60 bg-background/60 px-3 py-1 text-[10px] md:text-[11px] tracking-[0.18em] uppercase text-muted-foreground\"><span class=\"h-1.5 w-1.5 rounded-full bg-emerald-500\"></span><span>Ops access Â· Internal use only Â· Imphal â†” New Delhi</span></div><h1 class=\"text-2xl md:text-3xl font-display font-bold leading-tight\">Sign in to Tapan Go ops console.</h1><p class=\"text-sm text-muted-foreground max-w-prose leading-relaxed\">Use your staff or partner account to follow cargo between Imphal and New Delhi and manage key bookings and updates.</p><ul class=\"text-[11px] md:text-xs text-muted-foreground space-y-1\"><li>See today&#x27;s shipments, lanes, and exceptions in one place.</li><li>Coordinate air, land, and doorstep pick &amp; drop across the network.</li><li>Restricted to Tapan Go operations teams and trusted partners.</li></ul></section><section class=\"w-full max-w-md ml-auto order-1 lg:order-2\"><div data-slot=\"card\" class=\"text-card-foreground flex flex-col gap-2 rounded-lg p-6 bg-card/90 border-border/80 shadow-[0_18px_60px_rgba(0,0,0,0.7)]\"><div class=\"mb-4 space-y-1\"><h2 class=\"text-sm font-semibold\">Login</h2><p class=\"text-xs text-muted-foreground\">Enter your email and password to continue.</p></div><form class=\"space-y-4\"><div class=\"space-y-2\"><label data-slot=\"label\" class=\"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\" for=\"email\">Work email</label><input type=\"email\" data-slot=\"input\" class=\"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\" id=\"email\" autoComplete=\"email\" placeholder=\"ops@tapango.logistics\" value=\"ops@example.com\"/></div><div class=\"space-y-2\"><label data-slot=\"label\" class=\"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\" for=\"password\">Password</label><input type=\"password\" data-slot=\"input\" class=\"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\" id=\"password\" autoComplete=\"current-password\" placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" value=\"\"/></div><button data-slot=\"button\" class=\"inline-flex items-center justify-center uppercase gap-2 whitespace-nowrap rounded-md text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2 has-[&gt;svg]:px-3 w-full\" type=\"submit\">Login</button></form><div class=\"mt-3 flex justify-end\"><button type=\"button\" class=\"text-[11px] text-muted-foreground hover:text-foreground underline-offset-4 hover:underline\">Forgot password?</button></div></div></section></div></main></div><div role=\"region\" aria-label=\"Notifications (F8)\" tabindex=\"-1\" style=\"pointer-events:none\"><ol tabindex=\"-1\" class=\"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\"></ol></div><script src=\"/_next/static/chunks/webpack.js?v=1764018951011\" async=\"\"></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,\"1:HL[\\\"/_next/static/css/app/layout.css?v=1764018951011\\\",\\\"style\\\"]\\n0:D{\\\"name\\\":\\\"r2\\\",\\\"env\\\":\\\"Server\\\"}\\n\"])</script><script>self.__next_f.push([1,\"2:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/app-router.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\n6:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/link.js\\\",[\\\"app/login/page\\\",\\\"static/chunks/app/login/page.js\\\"],\\\"\\\"]\\n8:I[\\\"(app-pages-browser)/./components/auth/login-form.tsx\\\",[\\\"app/login/page\\\",\\\"static/chunks/app/login/page.js\\\"],\\\"LoginForm\\\"]\\n9:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\na:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/render-from-template-context.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\ne:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/error-boundary.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\n3:D{\\\"name\\\":\\\"\\\",\\\"env\\\":\\\"Server\\\"}\\n4:D{\\\"name\\\":\\\"LoginPage\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Button\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Slot.Slot\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Slot.SlotClone\\\",\\\"env\\\":\\\"Server\\\"}\\n5:[\\\"$\\\",\\\"$L6\\\",null,{\\\"href\\\":\\\"/\\\",\\\"children\\\":\\\"Back to overview\\\",\\\"data-slot\\\":\\\"button\\\",\\\"className\\\":\\\"inline-flex items-center justify-center uppercase whitespace-nowrap text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [\\u0026_svg]:pointer-events-none [\\u0026_svg:not([class*='size-'])]:size-4 shrink-0 [\\u0026_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 has-[\\u003esvg]:px-2.5 h-9 px-3\\\"}]\\n7:D{\\\"name\\\":\\\"Card\\\",\\\"env\\\":\\\"Server\\\"}\\n7:[\\\"$\\\",\\\"div\\\",null,{\\\"data-slot\\\":\\\"card\\\",\\\"className\\\":\\\"text-card-foreground flex flex-col gap-2 rounded-lg p-6 bg-card/90 border-border/80 shadow-[0_18px_60px_rgba(0,0,0,0.7)]\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"mb-4 space-y-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"h2\\\",null,{\\\"className\\\":\\\"text-sm font-semibold\\\",\\\"children\\\":\"])</script><script>self.__next_f.push([1,\"\\\"Login\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-xs text-muted-foreground\\\",\\\"children\\\":\\\"Enter your email and password to continue.\\\"}]]}],[\\\"$\\\",\\\"$L8\\\",null,{}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"mt-3 flex justify-end\\\",\\\"children\\\":[\\\"$\\\",\\\"button\\\",null,{\\\"type\\\":\\\"button\\\",\\\"className\\\":\\\"text-[11px] text-muted-foreground hover:text-foreground underline-offset-4 hover:underline\\\",\\\"children\\\":\\\"Forgot password?\\\"}]}]]}]\\n\"])</script><script>self.__next_f.push([1,\"4:[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"min-h-screen flex flex-col bg-background\\\",\\\"children\\\":[[\\\"$\\\",\\\"header\\\",null,{\\\"className\\\":\\\"border-b border-border\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center justify-between px-6 lg:px-8 py-4 max-w-6xl mx-auto\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center gap-3\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"h-10 w-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-xl font-display\\\",\\\"children\\\":\\\"ðŸ“¦\\\"}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col\\\",\\\"children\\\":[[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"text-base font-display font-bold tracking-wide\\\",\\\"children\\\":\\\"TAPAN GO\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"text-xs uppercase tracking-widest text-muted-foreground\\\",\\\"children\\\":\\\"Cargo Network Console\\\"}]]}]]}],\\\"$5\\\"]}]}],[\\\"$\\\",\\\"main\\\",null,{\\\"className\\\":\\\"flex-1 flex items-center justify-center px-4 py-8 lg:py-10\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"w-full max-w-5xl grid gap-8 lg:gap-10 lg:grid-cols-[1.15fr_minmax(0,1fr)] items-center\\\",\\\"children\\\":[[\\\"$\\\",\\\"section\\\",null,{\\\"className\\\":\\\"space-y-5 max-w-lg order-2 lg:order-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"inline-flex items-center gap-2 rounded-full border border-border/60 bg-background/60 px-3 py-1 text-[10px] md:text-[11px] tracking-[0.18em] uppercase text-muted-foreground\\\",\\\"children\\\":[[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"h-1.5 w-1.5 rounded-full bg-emerald-500\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"children\\\":\\\"Ops access Â· Internal use only Â· Imphal â†” New Delhi\\\"}]]}],[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-2xl md:text-3xl font-display font-bold leading-tight\\\",\\\"children\\\":\\\"Sign in to Tapan Go ops console.\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-sm text-muted-foreground max-w-prose leading-relaxed\\\",\\\"children\\\":\\\"Use your staff or partner account to follow cargo between Imphal and New Delhi and manage key bookings and updates.\\\"}],[\\\"$\\\",\\\"ul\\\",null,{\\\"className\\\":\\\"text-[11px] md:text-xs text-muted-foreground space-y-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"See today's shipments, lanes, and exceptions in one place.\\\"}],[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"Coordinate air, land, and doorstep pick \\u0026 drop across the network.\\\"}],[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"Restricted to Tapan Go operations teams and trusted partners.\\\"}]]}]]}],[\\\"$\\\",\\\"section\\\",null,{\\\"className\\\":\\\"w-full max-w-md ml-auto order-1 lg:order-2\\\",\\\"children\\\":\\\"$7\\\"}]]}]}]]}]\\n\"])</script><script>self.__next_f.push([1,\"b:D{\\\"name\\\":\\\"RootLayout\\\",\\\"env\\\":\\\"Server\\\"}\\nc:D{\\\"name\\\":\\\"rQ\\\",\\\"env\\\":\\\"Server\\\"}\\nc:null\\nd:D{\\\"name\\\":\\\"\\\",\\\"env\\\":\\\"Server\\\"}\\nf:[]\\n0:[\\\"$\\\",\\\"$L2\\\",null,{\\\"buildId\\\":\\\"development\\\",\\\"assetPrefix\\\":\\\"\\\",\\\"urlParts\\\":[\\\"\\\",\\\"login\\\"],\\\"initialTree\\\":[\\\"\\\",{\\\"children\\\":[\\\"login\\\",{\\\"children\\\":[\\\"__PAGE__\\\",{}]}]},\\\"$undefined\\\",\\\"$undefined\\\",true],\\\"initialSeedData\\\":[\\\"\\\",{\\\"children\\\":[\\\"login\\\",{\\\"children\\\":[\\\"__PAGE__\\\",{},[[\\\"$L3\\\",\\\"$4\\\",null],null],null]},[null,[\\\"$\\\",\\\"$L9\\\",null,{\\\"parallelRouterKey\\\":\\\"children\\\",\\\"segmentPath\\\":[\\\"children\\\",\\\"login\\\",\\\"children\\\"],\\\"error\\\":\\\"$undefined\\\",\\\"errorStyles\\\":\\\"$undefined\\\",\\\"errorScripts\\\":\\\"$undefined\\\",\\\"template\\\":[\\\"$\\\",\\\"$La\\\",null,{}],\\\"templateStyles\\\":\\\"$undefined\\\",\\\"templateScripts\\\":\\\"$undefined\\\",\\\"notFound\\\":\\\"$undefined\\\",\\\"notFoundStyles\\\":\\\"$undefined\\\"}]],null]},[[[[\\\"$\\\",\\\"link\\\",\\\"0\\\",{\\\"rel\\\":\\\"stylesheet\\\",\\\"href\\\":\\\"/_next/static/css/app/layout.css?v=1764018951011\\\",\\\"precedence\\\":\\\"next_static/css/app/layout.css\\\",\\\"crossOrigin\\\":\\\"$undefined\\\"}]],\\\"$Lb\\\"],null],null],\\\"couldBeIntercepted\\\":false,\\\"initialHead\\\":[\\\"$c\\\",\\\"$Ld\\\"],\\\"globalErrorComponent\\\":\\\"$e\\\",\\\"missingSlots\\\":\\\"$Wf\\\"}]\\n\"])</script><script>self.__next_f.push([1,\"10:I[\\\"(app-pages-browser)/./components/theme-provider.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"ThemeProvider\\\"]\\n11:I[\\\"(app-pages-browser)/./lib/v0-context.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"V0Provider\\\"]\\n12:I[\\\"(app-pages-browser)/./components/layout/root-shell.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"RootShell\\\"]\\n15:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/image-component.js\\\",[\\\"app/not-found\\\",\\\"static/chunks/app/not-found.js\\\"],\\\"Image\\\"]\\n16:I[\\\"(app-pages-browser)/./components/ui/toaster.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"Toaster\\\"]\\n13:D{\\\"name\\\":\\\"NotFound\\\",\\\"env\\\":\\\"Server\\\"}\\n13:D{\\\"name\\\":\\\"DashboardPageLayout\\\",\\\"env\\\":\\\"Server\\\"}\\n14:D{\\\"name\\\":\\\"CuteRobotIcon\\\",\\\"env\\\":\\\"Server\\\"}\\n14:[\\\"$\\\",\\\"svg\\\",null,{\\\"xmlns\\\":\\\"http://www.w3.org/2000/svg\\\",\\\"width\\\":20,\\\"height\\\":20,\\\"viewBox\\\":\\\"0 0 20 20\\\",\\\"fill\\\":\\\"none\\\",\\\"className\\\":\\\"ml-1 lg:ml-0 opacity-50 md:opacity-100 size-5\\\",\\\"children\\\":[\\\"$\\\",\\\"path\\\",null,{\\\"stroke\\\":\\\"currentColor\\\",\\\"strokeLinecap\\\":\\\"square\\\",\\\"strokeWidth\\\":1.667,\\\"d\\\":\\\"M10 3.333H4.166v7.5h11.667v-7.5H10Zm0 0V1.667m-6.667 12.5 1.25-1.25m12.083 1.25-1.25-1.25M7.5 6.667V7.5m5-.833V7.5M5 10.833V12.5a5 5 0 0 0 10 0v-1.667\\\"}]}]\\n13:[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col relative w-full gap-1 min-h-full\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center lg:items-baseline gap-2.5 md:gap-4 px-4 md:px-6 py-3 md:pb-4 lg:pt-7 ring-2 ring-pop sticky top-header-mobile lg:top-0 bg-background z-10 print:hidden\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"max-lg:contents rounded bg-primary size-7 md:size-9 flex items-center justify-center my-auto\\\",\\\"children\\\":\\\"$14\\\"}],[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-xl lg:text-4xl font-display leading-[1] mb-1\\\",\\\"children\\\":\\\"Not found\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"ml-auto text-xs md:text-sm text-muted-foreground block pr-16 lg:pr-24 text-right\\\",\\\"children\\\":\\\"page under construction\\\"}]]}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"min-h-full flex-1 flex flex-col gap-8 md:gap-14 px-3 lg:px-6 py-6 md:py-10 ring-2 ring-pop bg-background\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\"\"])</script><script>self.__next_f.push([1,\":\\\"flex flex-col items-center justify-center gap-10 flex-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"picture\\\",null,{\\\"className\\\":\\\"w-1/4 aspect-square grayscale opacity-50\\\",\\\"children\\\":[\\\"$\\\",\\\"$L15\\\",null,{\\\"src\\\":\\\"/assets/bot_greenprint.gif\\\",\\\"alt\\\":\\\"Security Status\\\",\\\"width\\\":1000,\\\"height\\\":1000,\\\"quality\\\":90,\\\"sizes\\\":\\\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\\\",\\\"className\\\":\\\"size-full object-contain\\\"}]}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col items-center justify-center gap-2\\\",\\\"children\\\":[[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-xl font-bold uppercase text-muted-foreground\\\",\\\"children\\\":\\\"Not found, yet\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-sm max-w-sm text-center text-muted-foreground text-balance\\\",\\\"children\\\":\\\"Fork on v0 and start promoting your way to new pages.\\\"}]]}]]}]}]]}]\\nb:[\\\"$\\\",\\\"html\\\",null,{\\\"lang\\\":\\\"en\\\",\\\"suppressHydrationWarning\\\":true,\\\"children\\\":[[\\\"$\\\",\\\"head\\\",null,{\\\"children\\\":[\\\"$\\\",\\\"link\\\",null,{\\\"rel\\\":\\\"preload\\\",\\\"href\\\":\\\"/fonts/Rebels-Fett.woff2\\\",\\\"as\\\":\\\"font\\\",\\\"type\\\":\\\"font/woff2\\\",\\\"crossOrigin\\\":\\\"anonymous\\\"}]}],[\\\"$\\\",\\\"body\\\",null,{\\\"className\\\":\\\"__variable_d3c944 __variable_5899e0 antialiased\\\",\\\"children\\\":[\\\"$\\\",\\\"$L10\\\",null,{\\\"attribute\\\":\\\"class\\\",\\\"defaultTheme\\\":\\\"dark\\\",\\\"enableSystem\\\":false,\\\"children\\\":[\\\"$\\\",\\\"$L11\\\",null,{\\\"isV0\\\":false,\\\"children\\\":[[\\\"$\\\",\\\"$L12\\\",null,{\\\"notifications\\\":[],\\\"defaultWidgetData\\\":{\\\"location\\\":\\\"New Delhi, India\\\",\\\"timezone\\\":\\\"Asia/Kolkata\\\",\\\"temperature\\\":\\\"30Â°C / Clear\\\",\\\"weather\\\":\\\"Clear skies\\\",\\\"date\\\":\\\"2025-11-24T21:15:15.748Z\\\"},\\\"children\\\":[\\\"$\\\",\\\"$L9\\\",null,{\\\"parallelRouterKey\\\":\\\"children\\\",\\\"segmentPath\\\":[\\\"children\\\"],\\\"error\\\":\\\"$undefined\\\",\\\"errorStyles\\\":\\\"$undefined\\\",\\\"errorScripts\\\":\\\"$undefined\\\",\\\"template\\\":[\\\"$\\\",\\\"$La\\\",null,{}],\\\"templateStyles\\\":\\\"$undefined\\\",\\\"templateScripts\\\":\\\"$undefined\\\",\\\"notFound\\\":\\\"$13\\\",\\\"notFoundStyles\\\":[]}]}],[\\\"$\\\",\\\"$L16\\\",null,{}]]}]}]}]]}]\\nd:[[\\\"$\\\",\\\"meta\\\",\\\"0\\\",{\\\"name\\\":\\\"viewport\\\",\\\"content\\\":\\\"width=device-width, initial-scale=1\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"1\\\",{\\\"charSet\\\":\\\"utf-8\\\"}],[\\\"$\\\",\\\"title\\\",\\\"2\\\",{\\\"children\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"3\\\",{\\\"name\\\":\\\"description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\"])</script><script>self.__next_f.push([1,\"\\\",\\\"meta\\\",\\\"4\\\",{\\\"name\\\":\\\"generator\\\",\\\"content\\\":\\\"v0.app\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"5\\\",{\\\"property\\\":\\\"og:title\\\",\\\"content\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"6\\\",{\\\"property\\\":\\\"og:description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"7\\\",{\\\"property\\\":\\\"og:image:type\\\",\\\"content\\\":\\\"image/png\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"8\\\",{\\\"property\\\":\\\"og:image:width\\\",\\\"content\\\":\\\"1200\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"9\\\",{\\\"property\\\":\\\"og:image:height\\\",\\\"content\\\":\\\"630\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"10\\\",{\\\"property\\\":\\\"og:image\\\",\\\"content\\\":\\\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"11\\\",{\\\"name\\\":\\\"twitter:card\\\",\\\"content\\\":\\\"summary_large_image\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"12\\\",{\\\"name\\\":\\\"twitter:title\\\",\\\"content\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"13\\\",{\\\"name\\\":\\\"twitter:description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"14\\\",{\\\"name\\\":\\\"twitter:image:type\\\",\\\"content\\\":\\\"image/png\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"15\\\",{\\\"name\\\":\\\"twitter:image:width\\\",\\\"content\\\":\\\"1200\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"16\\\",{\\\"name\\\":\\\"twitter:image:height\\\",\\\"content\\\":\\\"630\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"17\\\",{\\\"name\\\":\\\"twitter:image\\\",\\\"content\\\":\\\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\\\"}],[\\\"$\\\",\\\"link\\\",\\\"18\\\",{\\\"rel\\\":\\\"icon\\\",\\\"href\\\":\\\"/favicon.ico\\\",\\\"type\\\":\\\"image/x-icon\\\",\\\"sizes\\\":\\\"16x16\\\"}]]\\n3:null\\n\"])</script></body></html>\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-11-24T21:14:24.620Z",
    "modified": "2025-11-24T21:15:57.729Z"
  },
  {
    "projectId": "b0311687-2228-436f-8b5b-13b6e6aa4f85",
    "testId": "d21f35ff-9c29-4bb5-bc28-629cc7df4ee8",
    "userId": "54a864b8-1081-70dd-ad79-74b8b9f2ba56",
    "title": "TC005-manifest_finalization_and_scan_aggregation",
    "description": "Test that manifest finalization API correctly aggregates scanned barcodes and updates manifest records with origin, destination, and airline details.",
    "code": "import requests\nimport uuid\n\nBASE_URL = \"http://localhost:3000\"\nLOGIN_URL = f\"{BASE_URL}/api/auth/login\"\nHEADERS = {\n    \"Content-Type\": \"application/json\"\n}\n\n# Credentials for testing - should be valid user with permissions\nTEST_USER_EMAIL = \"ops@example.com\"\nTEST_USER_PASSWORD = \"password123\"  # This must be a valid password in test environment\n\n\ndef get_auth_token():\n    # This is a placeholder for login; adapt as necessary to the actual login API\n    login_payload = {\n        \"email\": TEST_USER_EMAIL,\n        \"password\": TEST_USER_PASSWORD\n    }\n    resp = requests.post(\n        f\"{BASE_URL}/api/auth/login\",\n        json=login_payload,\n        headers=HEADERS,\n        timeout=30\n    )\n    assert resp.status_code == 200, f\"Login failed: {resp.status_code} {resp.text}\"\n    data = resp.json()\n    token = data.get(\"access_token\") or data.get(\"token\")\n    assert token, \"No access token returned on login\"\n    return token\n\n\ndef test_manifest_finalization_and_scan_aggregation():\n    token = get_auth_token()\n    AUTH_HEADERS = {\n        \"Authorization\": f\"Bearer {token}\",\n        \"Content-Type\": \"application/json\"\n    }\n\n    manifest_id = None\n    scanned_barcodes = [\n        {\"barcode\": f\"TEST-BARCODE-{uuid.uuid4()}\", \"package_info\": \"Sample Package 1\"},\n        {\"barcode\": f\"TEST-BARCODE-{uuid.uuid4()}\", \"package_info\": \"Sample Package 2\"}\n    ]\n    origin = \"JFK\"\n    destination = \"LAX\"\n    airline = \"TestAir\"\n\n    try:\n        # Step 1: Create a new manifest resource\n        create_manifest_payload = {\n            \"origin\": origin,\n            \"destination\": destination,\n            \"airline\": airline,\n            \"status\": \"open\"\n        }\n        resp_create = requests.post(\n            f\"{BASE_URL}/api/manifests\",\n            json=create_manifest_payload,\n            headers=AUTH_HEADERS,\n            timeout=30\n        )\n        assert resp_create.status_code == 201, f\"Manifest creation failed: {resp_create.status_code} {resp_create.text}\"\n        manifest = resp_create.json()\n        assert \"id\" in manifest, \"Created manifest response missing 'id'\"\n        manifest_id = manifest[\"id\"]\n\n        # Step 2: Add scanned barcodes to the manifest scanning session\n        for scan in scanned_barcodes:\n            scan_payload = {\n                \"manifestId\": manifest_id,\n                \"barcode\": scan[\"barcode\"],\n                \"packageInfo\": scan[\"package_info\"]\n            }\n            resp_scan = requests.post(\n                f\"{BASE_URL}/api/scans\",\n                json=scan_payload,\n                headers=AUTH_HEADERS,\n                timeout=30\n            )\n            assert resp_scan.status_code == 201, f\"Scan event creation failed for barcode {scan['barcode']}: {resp_scan.status_code} {resp_scan.text}\"\n            scan_resp_json = resp_scan.json()\n            assert scan_resp_json.get(\"barcode\") == scan[\"barcode\"], \"Barcode mismatch in scan event response\"\n            assert scan_resp_json.get(\"manifestId\") == manifest_id, \"Manifest ID mismatch in scan event response\"\n\n        # Step 3: Finalize the manifest to aggregate scans and update details\n        finalize_payload = {\n            \"origin\": origin,\n            \"destination\": destination,\n            \"airline\": airline\n        }\n        resp_finalize = requests.post(\n            f\"{BASE_URL}/api/manifests/{manifest_id}/finalize\",\n            json=finalize_payload,\n            headers=AUTH_HEADERS,\n            timeout=30\n        )\n        assert resp_finalize.status_code == 200, f\"Manifest finalization failed: {resp_finalize.status_code} {resp_finalize.text}\"\n        finalized_manifest = resp_finalize.json()\n\n        # Step 4: Validate that the manifest record is updated with aggregated scanned barcodes and details\n        assert finalized_manifest.get(\"origin\") == origin, \"Manifest origin mismatch after finalization\"\n        assert finalized_manifest.get(\"destination\") == destination, \"Manifest destination mismatch after finalization\"\n        assert finalized_manifest.get(\"airline\") == airline, \"Manifest airline mismatch after finalization\"\n\n        aggregated_barcodes = finalized_manifest.get(\"scannedBarcodes\") or finalized_manifest.get(\"barcodes\") or []\n        assert len(aggregated_barcodes) >= len(scanned_barcodes), \"Aggregated barcodes count less than scanned\"\n\n        scanned_barcodes_set = {s[\"barcode\"] for s in scanned_barcodes}\n        # Handle case where aggregated_barcodes might be list of strings or objects with barcode fields\n        if aggregated_barcodes and isinstance(aggregated_barcodes[0], dict) and \"barcode\" in aggregated_barcodes[0]:\n            aggregated_barcodes_set = {b[\"barcode\"] for b in aggregated_barcodes}\n        else:\n            aggregated_barcodes_set = set(aggregated_barcodes)\n\n        assert scanned_barcodes_set.issubset(aggregated_barcodes_set), \"Not all scanned barcodes aggregated in manifest\"\n\n    finally:\n        if manifest_id:\n            try:\n                resp_scans = requests.get(\n                    f\"{BASE_URL}/api/scans?manifestId={manifest_id}\",\n                    headers=AUTH_HEADERS,\n                    timeout=30,\n                )\n                if resp_scans.status_code == 200:\n                    scans_list = resp_scans.json()\n                    for scan_item in scans_list:\n                        scan_id = scan_item.get(\"id\")\n                        if scan_id:\n                            requests.delete(\n                                f\"{BASE_URL}/api/scans/{scan_id}\",\n                                headers=AUTH_HEADERS,\n                                timeout=30,\n                            )\n            except Exception:\n                pass\n\n            try:\n                requests.delete(\n                    f\"{BASE_URL}/api/manifests/{manifest_id}\",\n                    headers=AUTH_HEADERS,\n                    timeout=30\n                )\n            except Exception:\n                pass\n\n\ntest_manifest_finalization_and_scan_aggregation()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/requests/models.py\", line 974, in json\n    return complexjson.loads(self.text, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/__init__.py\", line 514, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/decoder.py\", line 386, in decode\n    obj, end = self.raw_decode(s)\n               ^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/decoder.py\", line 416, in raw_decode\n    return self.scan_once(s, idx=_w(s, idx).end())\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsimplejson.errors.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 150, in <module>\n  File \"<string>\", line 35, in test_manifest_finalization_and_scan_aggregation\n  File \"<string>\", line 28, in get_auth_token\n  File \"/var/task/requests/models.py\", line 978, in json\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\nrequests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-11-24T21:14:24.625Z",
    "modified": "2025-11-24T21:16:17.774Z"
  },
  {
    "projectId": "b0311687-2228-436f-8b5b-13b6e6aa4f85",
    "testId": "099be015-70cb-4b43-8224-ab4c19d9b276",
    "userId": "54a864b8-1081-70dd-ad79-74b8b9f2ba56",
    "title": "TC006-invoice_pdf_generation_with_barcode_and_tax_breakdown",
    "description": "Verify that invoice PDF generation API completes successfully with embedded barcode images and includes tax breakdowns where applicable.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:3000\"\nAPI_KEY = \"sbp_319164fa6ae5e2f85df9b36646881e9219e37381\"\nHEADERS = {\n    \"Authorization\": f\"Bearer {API_KEY}\",\n    \"Content-Type\": \"application/json\",\n    \"Accept\": \"application/json\",\n}\n\ndef test_invoice_pdf_generation_with_barcode_and_tax_breakdown():\n    timeout = 30\n    invoice_id = None\n    try:\n        # Step 1: Create a new invoice to test PDF generation.\n        # Payload example includes barcode data and tax breakdown, matching expected schema.\n        create_payload = {\n            \"customer_id\": \"test-customer-001\",\n            \"items\": [\n                {\n                    \"description\": \"Test product 1\",\n                    \"quantity\": 2,\n                    \"unit_price\": 50.00,\n                    \"barcode\": \"123456789012\",\n                    \"taxes\": [\n                        {\"type\": \"VAT\", \"rate\": 0.1, \"amount\": 10.0},\n                        {\"type\": \"Service Tax\", \"rate\": 0.05, \"amount\": 5.0}\n                    ]\n                }\n            ],\n            \"tax_breakdown\": {\n                \"VAT\": 10.0,\n                \"Service Tax\": 5.0\n            },\n            \"total_amount\": 110.00,\n            \"currency\": \"USD\",\n            \"notes\": \"Invoice created for PDF generation test with barcode and tax breakdown.\"\n        }\n        create_response = requests.post(\n            f\"{BASE_URL}/api/invoices\",\n            headers=HEADERS,\n            json=create_payload,\n            timeout=timeout\n        )\n        assert create_response.status_code == 201, f\"Invoice creation failed: {create_response.text}\"\n        invoice = create_response.json()\n        invoice_id = invoice.get(\"id\")\n        assert invoice_id, \"Invoice ID missing from creation response\"\n\n        # Step 2: Request PDF generation for the created invoice.\n        pdf_response = requests.post(\n            f\"{BASE_URL}/api/invoices/{invoice_id}/generate-pdf\",\n            headers=HEADERS,\n            timeout=timeout\n        )\n        # Expecting success status, content-type PDF, and content length > 0\n        assert pdf_response.status_code == 200, f\"PDF generation failed: {pdf_response.text}\"\n        content_type = pdf_response.headers.get(\"Content-Type\", \"\")\n        assert \"application/pdf\" in content_type.lower(), f\"Unexpected content-type: {content_type}\"\n        assert pdf_response.content and len(pdf_response.content) > 1000, \"PDF content is empty or too small\"\n\n        # Step 3: Validate some text presence in PDF bytes (rudimentary check)\n        # Since PDF binary, check for known literal strings in content bytes\n        pdf_text_snippet = b\"Barcode\"\n        assert pdf_text_snippet in pdf_response.content, \"Barcode text not found in PDF content\"\n\n        tax_snippet = b\"VAT\"\n        assert tax_snippet in pdf_response.content, \"Tax breakdown info not found in PDF content\"\n\n    finally:\n        # Cleanup: delete invoice after test if created\n        if invoice_id:\n            try:\n                del_response = requests.delete(\n                    f\"{BASE_URL}/api/invoices/{invoice_id}\",\n                    headers=HEADERS,\n                    timeout=timeout\n                )\n                # Accept 200 or 204 as success for deletion\n                assert del_response.status_code in (200, 204), f\"Invoice deletion failed: {del_response.text}\"\n            except Exception:\n                pass\n\ntest_invoice_pdf_generation_with_barcode_and_tax_breakdown()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 84, in <module>\n  File \"<string>\", line 45, in test_invoice_pdf_generation_with_barcode_and_tax_breakdown\nAssertionError: Invoice creation failed: <!DOCTYPE html><html lang=\"en\"><head><meta charSet=\"utf-8\"/><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/><link rel=\"stylesheet\" href=\"/_next/static/css/app/layout.css?v=1764018925171\" data-precedence=\"next_static/css/app/layout.css\"/><link rel=\"preload\" as=\"script\" fetchPriority=\"low\" href=\"/_next/static/chunks/webpack.js?v=1764018925171\"/><script src=\"/_next/static/chunks/main-app.js?v=1764018925171\" async=\"\"></script><script src=\"/_next/static/chunks/app-pages-internals.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/login/page.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/layout.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/not-found.js\" async=\"\"></script><link rel=\"preload\" href=\"/fonts/Rebels-Fett.woff2\" as=\"font\" type=\"font/woff2\" crossorigin=\"anonymous\"/><title>Login - Tapan Go â€“ Tapan Go</title><meta name=\"description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta name=\"generator\" content=\"v0.app\"/><meta property=\"og:title\" content=\"Login - Tapan Go â€“ Tapan Go\"/><meta property=\"og:description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta property=\"og:image:type\" content=\"image/png\"/><meta property=\"og:image:width\" content=\"1200\"/><meta property=\"og:image:height\" content=\"630\"/><meta property=\"og:image\" content=\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\"/><meta name=\"twitter:card\" content=\"summary_large_image\"/><meta name=\"twitter:title\" content=\"Login - Tapan Go â€“ Tapan Go\"/><meta name=\"twitter:description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta name=\"twitter:image:type\" content=\"image/png\"/><meta name=\"twitter:image:width\" content=\"1200\"/><meta name=\"twitter:image:height\" content=\"630\"/><meta name=\"twitter:image\" content=\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\"/><link rel=\"icon\" href=\"/favicon.ico\" type=\"image/x-icon\" sizes=\"16x16\"/><script src=\"/_next/static/chunks/polyfills.js\" noModule=\"\"></script></head><body class=\"__variable_d3c944 __variable_5899e0 antialiased\"><script>((e, i, s, u, m, a, l, h)=>{\n    let d = document.documentElement, w = [\n        \"light\",\n        \"dark\"\n    ];\n    function p(n) {\n        (Array.isArray(e) ? e : [\n            e\n        ]).forEach((y)=>{\n            let k = y === \"class\", S = k && a ? m.map((f)=>a[f] || f) : m;\n            k ? (d.classList.remove(...S), d.classList.add(a && a[n] ? a[n] : n)) : d.setAttribute(y, n);\n        }), R(n);\n    }\n    function R(n) {\n        h && w.includes(n) && (d.style.colorScheme = n);\n    }\n    function c() {\n        return window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n    }\n    if (u) p(u);\n    else try {\n        let n = localStorage.getItem(i) || s, y = l && n === \"system\" ? c() : n;\n        p(y);\n    } catch (n) {}\n})(\"class\",\"theme\",\"dark\",null,[\"light\",\"dark\"],null,false,true)</script><div class=\"min-h-screen flex flex-col bg-background\"><header class=\"border-b border-border\"><div class=\"flex items-center justify-between px-6 lg:px-8 py-4 max-w-6xl mx-auto\"><div class=\"flex items-center gap-3\"><div class=\"h-10 w-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-xl font-display\">ðŸ“¦</div><div class=\"flex flex-col\"><span class=\"text-base font-display font-bold tracking-wide\">TAPAN GO</span><span class=\"text-xs uppercase tracking-widest text-muted-foreground\">Cargo Network Console</span></div></div><a data-slot=\"button\" class=\"inline-flex items-center justify-center uppercase whitespace-nowrap text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 has-[&gt;svg]:px-2.5 h-9 px-3\" href=\"/\">Back to overview</a></div></header><main class=\"flex-1 flex items-center justify-center px-4 py-8 lg:py-10\"><div class=\"w-full max-w-5xl grid gap-8 lg:gap-10 lg:grid-cols-[1.15fr_minmax(0,1fr)] items-center\"><section class=\"space-y-5 max-w-lg order-2 lg:order-1\"><div class=\"inline-flex items-center gap-2 rounded-full border border-border/60 bg-background/60 px-3 py-1 text-[10px] md:text-[11px] tracking-[0.18em] uppercase text-muted-foreground\"><span class=\"h-1.5 w-1.5 rounded-full bg-emerald-500\"></span><span>Ops access Â· Internal use only Â· Imphal â†” New Delhi</span></div><h1 class=\"text-2xl md:text-3xl font-display font-bold leading-tight\">Sign in to Tapan Go ops console.</h1><p class=\"text-sm text-muted-foreground max-w-prose leading-relaxed\">Use your staff or partner account to follow cargo between Imphal and New Delhi and manage key bookings and updates.</p><ul class=\"text-[11px] md:text-xs text-muted-foreground space-y-1\"><li>See today&#x27;s shipments, lanes, and exceptions in one place.</li><li>Coordinate air, land, and doorstep pick &amp; drop across the network.</li><li>Restricted to Tapan Go operations teams and trusted partners.</li></ul></section><section class=\"w-full max-w-md ml-auto order-1 lg:order-2\"><div data-slot=\"card\" class=\"text-card-foreground flex flex-col gap-2 rounded-lg p-6 bg-card/90 border-border/80 shadow-[0_18px_60px_rgba(0,0,0,0.7)]\"><div class=\"mb-4 space-y-1\"><h2 class=\"text-sm font-semibold\">Login</h2><p class=\"text-xs text-muted-foreground\">Enter your email and password to continue.</p></div><form class=\"space-y-4\"><div class=\"space-y-2\"><label data-slot=\"label\" class=\"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\" for=\"email\">Work email</label><input type=\"email\" data-slot=\"input\" class=\"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\" id=\"email\" autoComplete=\"email\" placeholder=\"ops@tapango.logistics\" value=\"ops@example.com\"/></div><div class=\"space-y-2\"><label data-slot=\"label\" class=\"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\" for=\"password\">Password</label><input type=\"password\" data-slot=\"input\" class=\"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\" id=\"password\" autoComplete=\"current-password\" placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" value=\"\"/></div><button data-slot=\"button\" class=\"inline-flex items-center justify-center uppercase gap-2 whitespace-nowrap rounded-md text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2 has-[&gt;svg]:px-3 w-full\" type=\"submit\">Login</button></form><div class=\"mt-3 flex justify-end\"><button type=\"button\" class=\"text-[11px] text-muted-foreground hover:text-foreground underline-offset-4 hover:underline\">Forgot password?</button></div></div></section></div></main></div><div role=\"region\" aria-label=\"Notifications (F8)\" tabindex=\"-1\" style=\"pointer-events:none\"><ol tabindex=\"-1\" class=\"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\"></ol></div><script src=\"/_next/static/chunks/webpack.js?v=1764018925171\" async=\"\"></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,\"1:HL[\\\"/_next/static/css/app/layout.css?v=1764018925171\\\",\\\"style\\\"]\\n0:D{\\\"name\\\":\\\"r2\\\",\\\"env\\\":\\\"Server\\\"}\\n\"])</script><script>self.__next_f.push([1,\"2:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/app-router.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\n6:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/link.js\\\",[\\\"app/login/page\\\",\\\"static/chunks/app/login/page.js\\\"],\\\"\\\"]\\n8:I[\\\"(app-pages-browser)/./components/auth/login-form.tsx\\\",[\\\"app/login/page\\\",\\\"static/chunks/app/login/page.js\\\"],\\\"LoginForm\\\"]\\n9:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\na:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/render-from-template-context.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\ne:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/error-boundary.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\n3:D{\\\"name\\\":\\\"\\\",\\\"env\\\":\\\"Server\\\"}\\n4:D{\\\"name\\\":\\\"LoginPage\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Button\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Slot.Slot\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Slot.SlotClone\\\",\\\"env\\\":\\\"Server\\\"}\\n5:[\\\"$\\\",\\\"$L6\\\",null,{\\\"href\\\":\\\"/\\\",\\\"children\\\":\\\"Back to overview\\\",\\\"data-slot\\\":\\\"button\\\",\\\"className\\\":\\\"inline-flex items-center justify-center uppercase whitespace-nowrap text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [\\u0026_svg]:pointer-events-none [\\u0026_svg:not([class*='size-'])]:size-4 shrink-0 [\\u0026_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 has-[\\u003esvg]:px-2.5 h-9 px-3\\\"}]\\n7:D{\\\"name\\\":\\\"Card\\\",\\\"env\\\":\\\"Server\\\"}\\n7:[\\\"$\\\",\\\"div\\\",null,{\\\"data-slot\\\":\\\"card\\\",\\\"className\\\":\\\"text-card-foreground flex flex-col gap-2 rounded-lg p-6 bg-card/90 border-border/80 shadow-[0_18px_60px_rgba(0,0,0,0.7)]\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"mb-4 space-y-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"h2\\\",null,{\\\"className\\\":\\\"text-sm font-semibold\\\",\\\"children\\\":\"])</script><script>self.__next_f.push([1,\"\\\"Login\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-xs text-muted-foreground\\\",\\\"children\\\":\\\"Enter your email and password to continue.\\\"}]]}],[\\\"$\\\",\\\"$L8\\\",null,{}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"mt-3 flex justify-end\\\",\\\"children\\\":[\\\"$\\\",\\\"button\\\",null,{\\\"type\\\":\\\"button\\\",\\\"className\\\":\\\"text-[11px] text-muted-foreground hover:text-foreground underline-offset-4 hover:underline\\\",\\\"children\\\":\\\"Forgot password?\\\"}]}]]}]\\n\"])</script><script>self.__next_f.push([1,\"4:[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"min-h-screen flex flex-col bg-background\\\",\\\"children\\\":[[\\\"$\\\",\\\"header\\\",null,{\\\"className\\\":\\\"border-b border-border\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center justify-between px-6 lg:px-8 py-4 max-w-6xl mx-auto\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center gap-3\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"h-10 w-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-xl font-display\\\",\\\"children\\\":\\\"ðŸ“¦\\\"}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col\\\",\\\"children\\\":[[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"text-base font-display font-bold tracking-wide\\\",\\\"children\\\":\\\"TAPAN GO\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"text-xs uppercase tracking-widest text-muted-foreground\\\",\\\"children\\\":\\\"Cargo Network Console\\\"}]]}]]}],\\\"$5\\\"]}]}],[\\\"$\\\",\\\"main\\\",null,{\\\"className\\\":\\\"flex-1 flex items-center justify-center px-4 py-8 lg:py-10\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"w-full max-w-5xl grid gap-8 lg:gap-10 lg:grid-cols-[1.15fr_minmax(0,1fr)] items-center\\\",\\\"children\\\":[[\\\"$\\\",\\\"section\\\",null,{\\\"className\\\":\\\"space-y-5 max-w-lg order-2 lg:order-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"inline-flex items-center gap-2 rounded-full border border-border/60 bg-background/60 px-3 py-1 text-[10px] md:text-[11px] tracking-[0.18em] uppercase text-muted-foreground\\\",\\\"children\\\":[[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"h-1.5 w-1.5 rounded-full bg-emerald-500\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"children\\\":\\\"Ops access Â· Internal use only Â· Imphal â†” New Delhi\\\"}]]}],[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-2xl md:text-3xl font-display font-bold leading-tight\\\",\\\"children\\\":\\\"Sign in to Tapan Go ops console.\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-sm text-muted-foreground max-w-prose leading-relaxed\\\",\\\"children\\\":\\\"Use your staff or partner account to follow cargo between Imphal and New Delhi and manage key bookings and updates.\\\"}],[\\\"$\\\",\\\"ul\\\",null,{\\\"className\\\":\\\"text-[11px] md:text-xs text-muted-foreground space-y-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"See today's shipments, lanes, and exceptions in one place.\\\"}],[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"Coordinate air, land, and doorstep pick \\u0026 drop across the network.\\\"}],[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"Restricted to Tapan Go operations teams and trusted partners.\\\"}]]}]]}],[\\\"$\\\",\\\"section\\\",null,{\\\"className\\\":\\\"w-full max-w-md ml-auto order-1 lg:order-2\\\",\\\"children\\\":\\\"$7\\\"}]]}]}]]}]\\n\"])</script><script>self.__next_f.push([1,\"b:D{\\\"name\\\":\\\"RootLayout\\\",\\\"env\\\":\\\"Server\\\"}\\nc:D{\\\"name\\\":\\\"rQ\\\",\\\"env\\\":\\\"Server\\\"}\\nc:null\\nd:D{\\\"name\\\":\\\"\\\",\\\"env\\\":\\\"Server\\\"}\\nf:[]\\n0:[\\\"$\\\",\\\"$L2\\\",null,{\\\"buildId\\\":\\\"development\\\",\\\"assetPrefix\\\":\\\"\\\",\\\"urlParts\\\":[\\\"\\\",\\\"login\\\"],\\\"initialTree\\\":[\\\"\\\",{\\\"children\\\":[\\\"login\\\",{\\\"children\\\":[\\\"__PAGE__\\\",{}]}]},\\\"$undefined\\\",\\\"$undefined\\\",true],\\\"initialSeedData\\\":[\\\"\\\",{\\\"children\\\":[\\\"login\\\",{\\\"children\\\":[\\\"__PAGE__\\\",{},[[\\\"$L3\\\",\\\"$4\\\",null],null],null]},[null,[\\\"$\\\",\\\"$L9\\\",null,{\\\"parallelRouterKey\\\":\\\"children\\\",\\\"segmentPath\\\":[\\\"children\\\",\\\"login\\\",\\\"children\\\"],\\\"error\\\":\\\"$undefined\\\",\\\"errorStyles\\\":\\\"$undefined\\\",\\\"errorScripts\\\":\\\"$undefined\\\",\\\"template\\\":[\\\"$\\\",\\\"$La\\\",null,{}],\\\"templateStyles\\\":\\\"$undefined\\\",\\\"templateScripts\\\":\\\"$undefined\\\",\\\"notFound\\\":\\\"$undefined\\\",\\\"notFoundStyles\\\":\\\"$undefined\\\"}]],null]},[[[[\\\"$\\\",\\\"link\\\",\\\"0\\\",{\\\"rel\\\":\\\"stylesheet\\\",\\\"href\\\":\\\"/_next/static/css/app/layout.css?v=1764018925171\\\",\\\"precedence\\\":\\\"next_static/css/app/layout.css\\\",\\\"crossOrigin\\\":\\\"$undefined\\\"}]],\\\"$Lb\\\"],null],null],\\\"couldBeIntercepted\\\":false,\\\"initialHead\\\":[\\\"$c\\\",\\\"$Ld\\\"],\\\"globalErrorComponent\\\":\\\"$e\\\",\\\"missingSlots\\\":\\\"$Wf\\\"}]\\n\"])</script><script>self.__next_f.push([1,\"10:I[\\\"(app-pages-browser)/./components/theme-provider.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"ThemeProvider\\\"]\\n11:I[\\\"(app-pages-browser)/./lib/v0-context.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"V0Provider\\\"]\\n12:I[\\\"(app-pages-browser)/./components/layout/root-shell.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"RootShell\\\"]\\n15:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/image-component.js\\\",[\\\"app/not-found\\\",\\\"static/chunks/app/not-found.js\\\"],\\\"Image\\\"]\\n16:I[\\\"(app-pages-browser)/./components/ui/toaster.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"Toaster\\\"]\\n13:D{\\\"name\\\":\\\"NotFound\\\",\\\"env\\\":\\\"Server\\\"}\\n13:D{\\\"name\\\":\\\"DashboardPageLayout\\\",\\\"env\\\":\\\"Server\\\"}\\n14:D{\\\"name\\\":\\\"CuteRobotIcon\\\",\\\"env\\\":\\\"Server\\\"}\\n14:[\\\"$\\\",\\\"svg\\\",null,{\\\"xmlns\\\":\\\"http://www.w3.org/2000/svg\\\",\\\"width\\\":20,\\\"height\\\":20,\\\"viewBox\\\":\\\"0 0 20 20\\\",\\\"fill\\\":\\\"none\\\",\\\"className\\\":\\\"ml-1 lg:ml-0 opacity-50 md:opacity-100 size-5\\\",\\\"children\\\":[\\\"$\\\",\\\"path\\\",null,{\\\"stroke\\\":\\\"currentColor\\\",\\\"strokeLinecap\\\":\\\"square\\\",\\\"strokeWidth\\\":1.667,\\\"d\\\":\\\"M10 3.333H4.166v7.5h11.667v-7.5H10Zm0 0V1.667m-6.667 12.5 1.25-1.25m12.083 1.25-1.25-1.25M7.5 6.667V7.5m5-.833V7.5M5 10.833V12.5a5 5 0 0 0 10 0v-1.667\\\"}]}]\\n13:[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col relative w-full gap-1 min-h-full\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center lg:items-baseline gap-2.5 md:gap-4 px-4 md:px-6 py-3 md:pb-4 lg:pt-7 ring-2 ring-pop sticky top-header-mobile lg:top-0 bg-background z-10 print:hidden\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"max-lg:contents rounded bg-primary size-7 md:size-9 flex items-center justify-center my-auto\\\",\\\"children\\\":\\\"$14\\\"}],[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-xl lg:text-4xl font-display leading-[1] mb-1\\\",\\\"children\\\":\\\"Not found\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"ml-auto text-xs md:text-sm text-muted-foreground block pr-16 lg:pr-24 text-right\\\",\\\"children\\\":\\\"page under construction\\\"}]]}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"min-h-full flex-1 flex flex-col gap-8 md:gap-14 px-3 lg:px-6 py-6 md:py-10 ring-2 ring-pop bg-background\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\"\"])</script><script>self.__next_f.push([1,\":\\\"flex flex-col items-center justify-center gap-10 flex-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"picture\\\",null,{\\\"className\\\":\\\"w-1/4 aspect-square grayscale opacity-50\\\",\\\"children\\\":[\\\"$\\\",\\\"$L15\\\",null,{\\\"src\\\":\\\"/assets/bot_greenprint.gif\\\",\\\"alt\\\":\\\"Security Status\\\",\\\"width\\\":1000,\\\"height\\\":1000,\\\"quality\\\":90,\\\"sizes\\\":\\\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\\\",\\\"className\\\":\\\"size-full object-contain\\\"}]}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col items-center justify-center gap-2\\\",\\\"children\\\":[[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-xl font-bold uppercase text-muted-foreground\\\",\\\"children\\\":\\\"Not found, yet\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-sm max-w-sm text-center text-muted-foreground text-balance\\\",\\\"children\\\":\\\"Fork on v0 and start promoting your way to new pages.\\\"}]]}]]}]}]]}]\\nb:[\\\"$\\\",\\\"html\\\",null,{\\\"lang\\\":\\\"en\\\",\\\"suppressHydrationWarning\\\":true,\\\"children\\\":[[\\\"$\\\",\\\"head\\\",null,{\\\"children\\\":[\\\"$\\\",\\\"link\\\",null,{\\\"rel\\\":\\\"preload\\\",\\\"href\\\":\\\"/fonts/Rebels-Fett.woff2\\\",\\\"as\\\":\\\"font\\\",\\\"type\\\":\\\"font/woff2\\\",\\\"crossOrigin\\\":\\\"anonymous\\\"}]}],[\\\"$\\\",\\\"body\\\",null,{\\\"className\\\":\\\"__variable_d3c944 __variable_5899e0 antialiased\\\",\\\"children\\\":[\\\"$\\\",\\\"$L10\\\",null,{\\\"attribute\\\":\\\"class\\\",\\\"defaultTheme\\\":\\\"dark\\\",\\\"enableSystem\\\":false,\\\"children\\\":[\\\"$\\\",\\\"$L11\\\",null,{\\\"isV0\\\":false,\\\"children\\\":[[\\\"$\\\",\\\"$L12\\\",null,{\\\"notifications\\\":[],\\\"defaultWidgetData\\\":{\\\"location\\\":\\\"New Delhi, India\\\",\\\"timezone\\\":\\\"Asia/Kolkata\\\",\\\"temperature\\\":\\\"30Â°C / Clear\\\",\\\"weather\\\":\\\"Clear skies\\\",\\\"date\\\":\\\"2025-11-24T21:15:15.748Z\\\"},\\\"children\\\":[\\\"$\\\",\\\"$L9\\\",null,{\\\"parallelRouterKey\\\":\\\"children\\\",\\\"segmentPath\\\":[\\\"children\\\"],\\\"error\\\":\\\"$undefined\\\",\\\"errorStyles\\\":\\\"$undefined\\\",\\\"errorScripts\\\":\\\"$undefined\\\",\\\"template\\\":[\\\"$\\\",\\\"$La\\\",null,{}],\\\"templateStyles\\\":\\\"$undefined\\\",\\\"templateScripts\\\":\\\"$undefined\\\",\\\"notFound\\\":\\\"$13\\\",\\\"notFoundStyles\\\":[]}]}],[\\\"$\\\",\\\"$L16\\\",null,{}]]}]}]}]]}]\\nd:[[\\\"$\\\",\\\"meta\\\",\\\"0\\\",{\\\"name\\\":\\\"viewport\\\",\\\"content\\\":\\\"width=device-width, initial-scale=1\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"1\\\",{\\\"charSet\\\":\\\"utf-8\\\"}],[\\\"$\\\",\\\"title\\\",\\\"2\\\",{\\\"children\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"3\\\",{\\\"name\\\":\\\"description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\"])</script><script>self.__next_f.push([1,\"\\\",\\\"meta\\\",\\\"4\\\",{\\\"name\\\":\\\"generator\\\",\\\"content\\\":\\\"v0.app\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"5\\\",{\\\"property\\\":\\\"og:title\\\",\\\"content\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"6\\\",{\\\"property\\\":\\\"og:description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"7\\\",{\\\"property\\\":\\\"og:image:type\\\",\\\"content\\\":\\\"image/png\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"8\\\",{\\\"property\\\":\\\"og:image:width\\\",\\\"content\\\":\\\"1200\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"9\\\",{\\\"property\\\":\\\"og:image:height\\\",\\\"content\\\":\\\"630\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"10\\\",{\\\"property\\\":\\\"og:image\\\",\\\"content\\\":\\\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"11\\\",{\\\"name\\\":\\\"twitter:card\\\",\\\"content\\\":\\\"summary_large_image\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"12\\\",{\\\"name\\\":\\\"twitter:title\\\",\\\"content\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"13\\\",{\\\"name\\\":\\\"twitter:description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"14\\\",{\\\"name\\\":\\\"twitter:image:type\\\",\\\"content\\\":\\\"image/png\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"15\\\",{\\\"name\\\":\\\"twitter:image:width\\\",\\\"content\\\":\\\"1200\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"16\\\",{\\\"name\\\":\\\"twitter:image:height\\\",\\\"content\\\":\\\"630\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"17\\\",{\\\"name\\\":\\\"twitter:image\\\",\\\"content\\\":\\\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\\\"}],[\\\"$\\\",\\\"link\\\",\\\"18\\\",{\\\"rel\\\":\\\"icon\\\",\\\"href\\\":\\\"/favicon.ico\\\",\\\"type\\\":\\\"image/x-icon\\\",\\\"sizes\\\":\\\"16x16\\\"}]]\\n3:null\\n\"])</script></body></html>\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-11-24T21:14:24.630Z",
    "modified": "2025-11-24T21:15:30.331Z"
  },
  {
    "projectId": "b0311687-2228-436f-8b5b-13b6e6aa4f85",
    "testId": "9a6766ae-e603-4f77-9f17-db1145dd522c",
    "userId": "54a864b8-1081-70dd-ad79-74b8b9f2ba56",
    "title": "TC007-signed_url_expiration_for_secure_pdf_access",
    "description": "Ensure that signed URLs generated for invoice and barcode PDFs expire correctly to maintain privacy and security.",
    "code": "import requests\nimport time\n\nBASE_URL = \"http://localhost:3000\"\nAPI_KEY = \"sbp_319164fa6ae5e2f85df9b36646881e9219e37381\"\nHEADERS = {\n    \"Authorization\": f\"Bearer {API_KEY}\"\n}\nTIMEOUT = 30\n\ndef test_signed_url_expiration_for_secure_pdf_access():\n    # Step 1: Create a new invoice resource to generate signed URLs\n    invoice_create_url = f\"{BASE_URL}/api/invoices\"\n    invoice_payload = {\n        # Minimal payload to create an invoice; adjust fields as per actual API schema\n        \"customer_id\": \"test-customer-id\",\n        \"amount\": 100.0,\n        \"due_date\": \"2025-12-31\"\n    }\n    invoice_id = None\n    try:\n        create_resp = requests.post(invoice_create_url, json=invoice_payload, headers=HEADERS, timeout=TIMEOUT)\n        assert create_resp.status_code == 201, f\"Invoice creation failed: {create_resp.text}\"\n        invoice_data = create_resp.json()\n        invoice_id = invoice_data.get(\"id\")\n        assert invoice_id is not None, \"Invoice ID not returned on creation\"\n\n        # Step 2: Request signed URL for invoice PDF\n        signed_url_endpoint = f\"{BASE_URL}/api/invoices/{invoice_id}/signed-url\"\n        signed_url_resp = requests.get(signed_url_endpoint, headers=HEADERS, timeout=TIMEOUT)\n        assert signed_url_resp.status_code == 200, f\"Failed to get signed URL: {signed_url_resp.text}\"\n        signed_url_data = signed_url_resp.json()\n        signed_url = signed_url_data.get(\"signed_url\")\n        expires_in = signed_url_data.get(\"expires_in\")  # assuming seconds till expiration\n        assert signed_url is not None, \"Signed URL not present in response\"\n        assert isinstance(expires_in, int) and expires_in > 0, \"Invalid expires_in value\"\n\n        # Step 3: Access the signed URL immediately - should succeed\n        immediate_resp = requests.get(signed_url, timeout=TIMEOUT)\n        assert immediate_resp.status_code == 200, \"Signed URL access failed immediately after generation\"\n\n        # Step 4: Wait until after expiration + margin, then access signed URL again - should fail\n        wait_time = expires_in + 5\n        time.sleep(wait_time)\n\n        expired_resp = requests.get(signed_url, timeout=TIMEOUT)\n        # Expecting 403 Forbidden or 401 Unauthorized or 404 Not Found depending on backend implementation\n        assert expired_resp.status_code in [401, 403, 404], f\"Signed URL still accessible after expiration, status code: {expired_resp.status_code}\"\n\n        # Step 5: Repeat steps for barcode PDF signed URL (assuming an API exists to get barcode PDF signed URL)\n        # Create a barcode resource for test (minimal example)\n        barcode_create_url = f\"{BASE_URL}/api/barcodes\"\n        barcode_payload = {\n            \"code\": \"TESTCODE12345\",\n            \"description\": \"Test barcode for signed URL expiration\"\n        }\n        barcode_id = None\n        barcode_resp = requests.post(barcode_create_url, json=barcode_payload, headers=HEADERS, timeout=TIMEOUT)\n        assert barcode_resp.status_code == 201, f\"Barcode creation failed: {barcode_resp.text}\"\n        barcode_data = barcode_resp.json()\n        barcode_id = barcode_data.get(\"id\")\n        assert barcode_id is not None, \"Barcode ID not returned on creation\"\n\n        try:\n            signed_url_barcode_endpoint = f\"{BASE_URL}/api/barcodes/{barcode_id}/signed-url\"\n            signed_url_barcode_resp = requests.get(signed_url_barcode_endpoint, headers=HEADERS, timeout=TIMEOUT)\n            assert signed_url_barcode_resp.status_code == 200, f\"Failed to get barcode signed URL: {signed_url_barcode_resp.text}\"\n            signed_url_barcode_data = signed_url_barcode_resp.json()\n            barcode_signed_url = signed_url_barcode_data.get(\"signed_url\")\n            barcode_expires_in = signed_url_barcode_data.get(\"expires_in\")\n            assert barcode_signed_url is not None, \"Barcode signed URL not present\"\n            assert isinstance(barcode_expires_in, int) and barcode_expires_in > 0, \"Invalid barcode expires_in\"\n\n            # Access immediately - should succeed\n            barcode_immediate_resp = requests.get(barcode_signed_url, timeout=TIMEOUT)\n            assert barcode_immediate_resp.status_code == 200, \"Barcode signed URL access failed immediately after generation\"\n\n            # Wait for expiration + margin and retry - should fail\n            time.sleep(barcode_expires_in + 5)\n            barcode_expired_resp = requests.get(barcode_signed_url, timeout=TIMEOUT)\n            assert barcode_expired_resp.status_code in [401,403,404], f\"Barcode signed URL still accessible after expiration, status code: {barcode_expired_resp.status_code}\"\n\n        finally:\n            if barcode_id:\n                delete_barcode_resp = requests.delete(f\"{BASE_URL}/api/barcodes/{barcode_id}\", headers=HEADERS, timeout=TIMEOUT)\n                # Not asserting delete success, just cleanup\n\n    finally:\n        if invoice_id:\n            delete_invoice_resp = requests.delete(f\"{BASE_URL}/api/invoices/{invoice_id}\", headers=HEADERS, timeout=TIMEOUT)\n            # Not asserting delete success, just cleanup\n\ntest_signed_url_expiration_for_secure_pdf_access()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 93, in <module>\n  File \"<string>\", line 23, in test_signed_url_expiration_for_secure_pdf_access\nAssertionError: Invoice creation failed: <!DOCTYPE html><html lang=\"en\"><head><meta charSet=\"utf-8\"/><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/><link rel=\"stylesheet\" href=\"/_next/static/css/app/layout.css?v=1764018956556\" data-precedence=\"next_static/css/app/layout.css\"/><link rel=\"preload\" as=\"script\" fetchPriority=\"low\" href=\"/_next/static/chunks/webpack.js?v=1764018956556\"/><script src=\"/_next/static/chunks/main-app.js?v=1764018956556\" async=\"\"></script><script src=\"/_next/static/chunks/app-pages-internals.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/login/page.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/layout.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/not-found.js\" async=\"\"></script><link rel=\"preload\" href=\"/fonts/Rebels-Fett.woff2\" as=\"font\" type=\"font/woff2\" crossorigin=\"anonymous\"/><title>Login - Tapan Go â€“ Tapan Go</title><meta name=\"description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta name=\"generator\" content=\"v0.app\"/><meta property=\"og:title\" content=\"Login - Tapan Go â€“ Tapan Go\"/><meta property=\"og:description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta property=\"og:image:type\" content=\"image/png\"/><meta property=\"og:image:width\" content=\"1200\"/><meta property=\"og:image:height\" content=\"630\"/><meta property=\"og:image\" content=\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\"/><meta name=\"twitter:card\" content=\"summary_large_image\"/><meta name=\"twitter:title\" content=\"Login - Tapan Go â€“ Tapan Go\"/><meta name=\"twitter:description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta name=\"twitter:image:type\" content=\"image/png\"/><meta name=\"twitter:image:width\" content=\"1200\"/><meta name=\"twitter:image:height\" content=\"630\"/><meta name=\"twitter:image\" content=\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\"/><link rel=\"icon\" href=\"/favicon.ico\" type=\"image/x-icon\" sizes=\"16x16\"/><script src=\"/_next/static/chunks/polyfills.js\" noModule=\"\"></script></head><body class=\"__variable_d3c944 __variable_5899e0 antialiased\"><script>((e, i, s, u, m, a, l, h)=>{\n    let d = document.documentElement, w = [\n        \"light\",\n        \"dark\"\n    ];\n    function p(n) {\n        (Array.isArray(e) ? e : [\n            e\n        ]).forEach((y)=>{\n            let k = y === \"class\", S = k && a ? m.map((f)=>a[f] || f) : m;\n            k ? (d.classList.remove(...S), d.classList.add(a && a[n] ? a[n] : n)) : d.setAttribute(y, n);\n        }), R(n);\n    }\n    function R(n) {\n        h && w.includes(n) && (d.style.colorScheme = n);\n    }\n    function c() {\n        return window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n    }\n    if (u) p(u);\n    else try {\n        let n = localStorage.getItem(i) || s, y = l && n === \"system\" ? c() : n;\n        p(y);\n    } catch (n) {}\n})(\"class\",\"theme\",\"dark\",null,[\"light\",\"dark\"],null,false,true)</script><div class=\"min-h-screen flex flex-col bg-background\"><header class=\"border-b border-border\"><div class=\"flex items-center justify-between px-6 lg:px-8 py-4 max-w-6xl mx-auto\"><div class=\"flex items-center gap-3\"><div class=\"h-10 w-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-xl font-display\">ðŸ“¦</div><div class=\"flex flex-col\"><span class=\"text-base font-display font-bold tracking-wide\">TAPAN GO</span><span class=\"text-xs uppercase tracking-widest text-muted-foreground\">Cargo Network Console</span></div></div><a data-slot=\"button\" class=\"inline-flex items-center justify-center uppercase whitespace-nowrap text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 has-[&gt;svg]:px-2.5 h-9 px-3\" href=\"/\">Back to overview</a></div></header><main class=\"flex-1 flex items-center justify-center px-4 py-8 lg:py-10\"><div class=\"w-full max-w-5xl grid gap-8 lg:gap-10 lg:grid-cols-[1.15fr_minmax(0,1fr)] items-center\"><section class=\"space-y-5 max-w-lg order-2 lg:order-1\"><div class=\"inline-flex items-center gap-2 rounded-full border border-border/60 bg-background/60 px-3 py-1 text-[10px] md:text-[11px] tracking-[0.18em] uppercase text-muted-foreground\"><span class=\"h-1.5 w-1.5 rounded-full bg-emerald-500\"></span><span>Ops access Â· Internal use only Â· Imphal â†” New Delhi</span></div><h1 class=\"text-2xl md:text-3xl font-display font-bold leading-tight\">Sign in to Tapan Go ops console.</h1><p class=\"text-sm text-muted-foreground max-w-prose leading-relaxed\">Use your staff or partner account to follow cargo between Imphal and New Delhi and manage key bookings and updates.</p><ul class=\"text-[11px] md:text-xs text-muted-foreground space-y-1\"><li>See today&#x27;s shipments, lanes, and exceptions in one place.</li><li>Coordinate air, land, and doorstep pick &amp; drop across the network.</li><li>Restricted to Tapan Go operations teams and trusted partners.</li></ul></section><section class=\"w-full max-w-md ml-auto order-1 lg:order-2\"><div data-slot=\"card\" class=\"text-card-foreground flex flex-col gap-2 rounded-lg p-6 bg-card/90 border-border/80 shadow-[0_18px_60px_rgba(0,0,0,0.7)]\"><div class=\"mb-4 space-y-1\"><h2 class=\"text-sm font-semibold\">Login</h2><p class=\"text-xs text-muted-foreground\">Enter your email and password to continue.</p></div><form class=\"space-y-4\"><div class=\"space-y-2\"><label data-slot=\"label\" class=\"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\" for=\"email\">Work email</label><input type=\"email\" data-slot=\"input\" class=\"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\" id=\"email\" autoComplete=\"email\" placeholder=\"ops@tapango.logistics\" value=\"ops@example.com\"/></div><div class=\"space-y-2\"><label data-slot=\"label\" class=\"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\" for=\"password\">Password</label><input type=\"password\" data-slot=\"input\" class=\"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\" id=\"password\" autoComplete=\"current-password\" placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" value=\"\"/></div><button data-slot=\"button\" class=\"inline-flex items-center justify-center uppercase gap-2 whitespace-nowrap rounded-md text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2 has-[&gt;svg]:px-3 w-full\" type=\"submit\">Login</button></form><div class=\"mt-3 flex justify-end\"><button type=\"button\" class=\"text-[11px] text-muted-foreground hover:text-foreground underline-offset-4 hover:underline\">Forgot password?</button></div></div></section></div></main></div><div role=\"region\" aria-label=\"Notifications (F8)\" tabindex=\"-1\" style=\"pointer-events:none\"><ol tabindex=\"-1\" class=\"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\"></ol></div><script src=\"/_next/static/chunks/webpack.js?v=1764018956556\" async=\"\"></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,\"1:HL[\\\"/_next/static/css/app/layout.css?v=1764018956556\\\",\\\"style\\\"]\\n0:D{\\\"name\\\":\\\"r2\\\",\\\"env\\\":\\\"Server\\\"}\\n\"])</script><script>self.__next_f.push([1,\"2:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/app-router.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\n6:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/link.js\\\",[\\\"app/login/page\\\",\\\"static/chunks/app/login/page.js\\\"],\\\"\\\"]\\n8:I[\\\"(app-pages-browser)/./components/auth/login-form.tsx\\\",[\\\"app/login/page\\\",\\\"static/chunks/app/login/page.js\\\"],\\\"LoginForm\\\"]\\n9:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\na:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/render-from-template-context.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\ne:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/error-boundary.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\n3:D{\\\"name\\\":\\\"\\\",\\\"env\\\":\\\"Server\\\"}\\n4:D{\\\"name\\\":\\\"LoginPage\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Button\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Slot.Slot\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Slot.SlotClone\\\",\\\"env\\\":\\\"Server\\\"}\\n5:[\\\"$\\\",\\\"$L6\\\",null,{\\\"href\\\":\\\"/\\\",\\\"children\\\":\\\"Back to overview\\\",\\\"data-slot\\\":\\\"button\\\",\\\"className\\\":\\\"inline-flex items-center justify-center uppercase whitespace-nowrap text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [\\u0026_svg]:pointer-events-none [\\u0026_svg:not([class*='size-'])]:size-4 shrink-0 [\\u0026_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 has-[\\u003esvg]:px-2.5 h-9 px-3\\\"}]\\n7:D{\\\"name\\\":\\\"Card\\\",\\\"env\\\":\\\"Server\\\"}\\n7:[\\\"$\\\",\\\"div\\\",null,{\\\"data-slot\\\":\\\"card\\\",\\\"className\\\":\\\"text-card-foreground flex flex-col gap-2 rounded-lg p-6 bg-card/90 border-border/80 shadow-[0_18px_60px_rgba(0,0,0,0.7)]\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"mb-4 space-y-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"h2\\\",null,{\\\"className\\\":\\\"text-sm font-semibold\\\",\\\"children\\\":\"])</script><script>self.__next_f.push([1,\"\\\"Login\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-xs text-muted-foreground\\\",\\\"children\\\":\\\"Enter your email and password to continue.\\\"}]]}],[\\\"$\\\",\\\"$L8\\\",null,{}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"mt-3 flex justify-end\\\",\\\"children\\\":[\\\"$\\\",\\\"button\\\",null,{\\\"type\\\":\\\"button\\\",\\\"className\\\":\\\"text-[11px] text-muted-foreground hover:text-foreground underline-offset-4 hover:underline\\\",\\\"children\\\":\\\"Forgot password?\\\"}]}]]}]\\n\"])</script><script>self.__next_f.push([1,\"4:[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"min-h-screen flex flex-col bg-background\\\",\\\"children\\\":[[\\\"$\\\",\\\"header\\\",null,{\\\"className\\\":\\\"border-b border-border\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center justify-between px-6 lg:px-8 py-4 max-w-6xl mx-auto\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center gap-3\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"h-10 w-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-xl font-display\\\",\\\"children\\\":\\\"ðŸ“¦\\\"}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col\\\",\\\"children\\\":[[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"text-base font-display font-bold tracking-wide\\\",\\\"children\\\":\\\"TAPAN GO\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"text-xs uppercase tracking-widest text-muted-foreground\\\",\\\"children\\\":\\\"Cargo Network Console\\\"}]]}]]}],\\\"$5\\\"]}]}],[\\\"$\\\",\\\"main\\\",null,{\\\"className\\\":\\\"flex-1 flex items-center justify-center px-4 py-8 lg:py-10\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"w-full max-w-5xl grid gap-8 lg:gap-10 lg:grid-cols-[1.15fr_minmax(0,1fr)] items-center\\\",\\\"children\\\":[[\\\"$\\\",\\\"section\\\",null,{\\\"className\\\":\\\"space-y-5 max-w-lg order-2 lg:order-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"inline-flex items-center gap-2 rounded-full border border-border/60 bg-background/60 px-3 py-1 text-[10px] md:text-[11px] tracking-[0.18em] uppercase text-muted-foreground\\\",\\\"children\\\":[[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"h-1.5 w-1.5 rounded-full bg-emerald-500\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"children\\\":\\\"Ops access Â· Internal use only Â· Imphal â†” New Delhi\\\"}]]}],[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-2xl md:text-3xl font-display font-bold leading-tight\\\",\\\"children\\\":\\\"Sign in to Tapan Go ops console.\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-sm text-muted-foreground max-w-prose leading-relaxed\\\",\\\"children\\\":\\\"Use your staff or partner account to follow cargo between Imphal and New Delhi and manage key bookings and updates.\\\"}],[\\\"$\\\",\\\"ul\\\",null,{\\\"className\\\":\\\"text-[11px] md:text-xs text-muted-foreground space-y-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"See today's shipments, lanes, and exceptions in one place.\\\"}],[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"Coordinate air, land, and doorstep pick \\u0026 drop across the network.\\\"}],[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"Restricted to Tapan Go operations teams and trusted partners.\\\"}]]}]]}],[\\\"$\\\",\\\"section\\\",null,{\\\"className\\\":\\\"w-full max-w-md ml-auto order-1 lg:order-2\\\",\\\"children\\\":\\\"$7\\\"}]]}]}]]}]\\n\"])</script><script>self.__next_f.push([1,\"b:D{\\\"name\\\":\\\"RootLayout\\\",\\\"env\\\":\\\"Server\\\"}\\nc:D{\\\"name\\\":\\\"rQ\\\",\\\"env\\\":\\\"Server\\\"}\\nc:null\\nd:D{\\\"name\\\":\\\"\\\",\\\"env\\\":\\\"Server\\\"}\\nf:[]\\n0:[\\\"$\\\",\\\"$L2\\\",null,{\\\"buildId\\\":\\\"development\\\",\\\"assetPrefix\\\":\\\"\\\",\\\"urlParts\\\":[\\\"\\\",\\\"login\\\"],\\\"initialTree\\\":[\\\"\\\",{\\\"children\\\":[\\\"login\\\",{\\\"children\\\":[\\\"__PAGE__\\\",{}]}]},\\\"$undefined\\\",\\\"$undefined\\\",true],\\\"initialSeedData\\\":[\\\"\\\",{\\\"children\\\":[\\\"login\\\",{\\\"children\\\":[\\\"__PAGE__\\\",{},[[\\\"$L3\\\",\\\"$4\\\",null],null],null]},[null,[\\\"$\\\",\\\"$L9\\\",null,{\\\"parallelRouterKey\\\":\\\"children\\\",\\\"segmentPath\\\":[\\\"children\\\",\\\"login\\\",\\\"children\\\"],\\\"error\\\":\\\"$undefined\\\",\\\"errorStyles\\\":\\\"$undefined\\\",\\\"errorScripts\\\":\\\"$undefined\\\",\\\"template\\\":[\\\"$\\\",\\\"$La\\\",null,{}],\\\"templateStyles\\\":\\\"$undefined\\\",\\\"templateScripts\\\":\\\"$undefined\\\",\\\"notFound\\\":\\\"$undefined\\\",\\\"notFoundStyles\\\":\\\"$undefined\\\"}]],null]},[[[[\\\"$\\\",\\\"link\\\",\\\"0\\\",{\\\"rel\\\":\\\"stylesheet\\\",\\\"href\\\":\\\"/_next/static/css/app/layout.css?v=1764018956556\\\",\\\"precedence\\\":\\\"next_static/css/app/layout.css\\\",\\\"crossOrigin\\\":\\\"$undefined\\\"}]],\\\"$Lb\\\"],null],null],\\\"couldBeIntercepted\\\":false,\\\"initialHead\\\":[\\\"$c\\\",\\\"$Ld\\\"],\\\"globalErrorComponent\\\":\\\"$e\\\",\\\"missingSlots\\\":\\\"$Wf\\\"}]\\n\"])</script><script>self.__next_f.push([1,\"10:I[\\\"(app-pages-browser)/./components/theme-provider.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"ThemeProvider\\\"]\\n11:I[\\\"(app-pages-browser)/./lib/v0-context.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"V0Provider\\\"]\\n12:I[\\\"(app-pages-browser)/./components/layout/root-shell.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"RootShell\\\"]\\n15:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/image-component.js\\\",[\\\"app/not-found\\\",\\\"static/chunks/app/not-found.js\\\"],\\\"Image\\\"]\\n16:I[\\\"(app-pages-browser)/./components/ui/toaster.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"Toaster\\\"]\\n13:D{\\\"name\\\":\\\"NotFound\\\",\\\"env\\\":\\\"Server\\\"}\\n13:D{\\\"name\\\":\\\"DashboardPageLayout\\\",\\\"env\\\":\\\"Server\\\"}\\n14:D{\\\"name\\\":\\\"CuteRobotIcon\\\",\\\"env\\\":\\\"Server\\\"}\\n14:[\\\"$\\\",\\\"svg\\\",null,{\\\"xmlns\\\":\\\"http://www.w3.org/2000/svg\\\",\\\"width\\\":20,\\\"height\\\":20,\\\"viewBox\\\":\\\"0 0 20 20\\\",\\\"fill\\\":\\\"none\\\",\\\"className\\\":\\\"ml-1 lg:ml-0 opacity-50 md:opacity-100 size-5\\\",\\\"children\\\":[\\\"$\\\",\\\"path\\\",null,{\\\"stroke\\\":\\\"currentColor\\\",\\\"strokeLinecap\\\":\\\"square\\\",\\\"strokeWidth\\\":1.667,\\\"d\\\":\\\"M10 3.333H4.166v7.5h11.667v-7.5H10Zm0 0V1.667m-6.667 12.5 1.25-1.25m12.083 1.25-1.25-1.25M7.5 6.667V7.5m5-.833V7.5M5 10.833V12.5a5 5 0 0 0 10 0v-1.667\\\"}]}]\\n13:[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col relative w-full gap-1 min-h-full\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center lg:items-baseline gap-2.5 md:gap-4 px-4 md:px-6 py-3 md:pb-4 lg:pt-7 ring-2 ring-pop sticky top-header-mobile lg:top-0 bg-background z-10 print:hidden\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"max-lg:contents rounded bg-primary size-7 md:size-9 flex items-center justify-center my-auto\\\",\\\"children\\\":\\\"$14\\\"}],[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-xl lg:text-4xl font-display leading-[1] mb-1\\\",\\\"children\\\":\\\"Not found\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"ml-auto text-xs md:text-sm text-muted-foreground block pr-16 lg:pr-24 text-right\\\",\\\"children\\\":\\\"page under construction\\\"}]]}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"min-h-full flex-1 flex flex-col gap-8 md:gap-14 px-3 lg:px-6 py-6 md:py-10 ring-2 ring-pop bg-background\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\"\"])</script><script>self.__next_f.push([1,\":\\\"flex flex-col items-center justify-center gap-10 flex-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"picture\\\",null,{\\\"className\\\":\\\"w-1/4 aspect-square grayscale opacity-50\\\",\\\"children\\\":[\\\"$\\\",\\\"$L15\\\",null,{\\\"src\\\":\\\"/assets/bot_greenprint.gif\\\",\\\"alt\\\":\\\"Security Status\\\",\\\"width\\\":1000,\\\"height\\\":1000,\\\"quality\\\":90,\\\"sizes\\\":\\\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\\\",\\\"className\\\":\\\"size-full object-contain\\\"}]}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col items-center justify-center gap-2\\\",\\\"children\\\":[[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-xl font-bold uppercase text-muted-foreground\\\",\\\"children\\\":\\\"Not found, yet\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-sm max-w-sm text-center text-muted-foreground text-balance\\\",\\\"children\\\":\\\"Fork on v0 and start promoting your way to new pages.\\\"}]]}]]}]}]]}]\\nb:[\\\"$\\\",\\\"html\\\",null,{\\\"lang\\\":\\\"en\\\",\\\"suppressHydrationWarning\\\":true,\\\"children\\\":[[\\\"$\\\",\\\"head\\\",null,{\\\"children\\\":[\\\"$\\\",\\\"link\\\",null,{\\\"rel\\\":\\\"preload\\\",\\\"href\\\":\\\"/fonts/Rebels-Fett.woff2\\\",\\\"as\\\":\\\"font\\\",\\\"type\\\":\\\"font/woff2\\\",\\\"crossOrigin\\\":\\\"anonymous\\\"}]}],[\\\"$\\\",\\\"body\\\",null,{\\\"className\\\":\\\"__variable_d3c944 __variable_5899e0 antialiased\\\",\\\"children\\\":[\\\"$\\\",\\\"$L10\\\",null,{\\\"attribute\\\":\\\"class\\\",\\\"defaultTheme\\\":\\\"dark\\\",\\\"enableSystem\\\":false,\\\"children\\\":[\\\"$\\\",\\\"$L11\\\",null,{\\\"isV0\\\":false,\\\"children\\\":[[\\\"$\\\",\\\"$L12\\\",null,{\\\"notifications\\\":[],\\\"defaultWidgetData\\\":{\\\"location\\\":\\\"New Delhi, India\\\",\\\"timezone\\\":\\\"Asia/Kolkata\\\",\\\"temperature\\\":\\\"30Â°C / Clear\\\",\\\"weather\\\":\\\"Clear skies\\\",\\\"date\\\":\\\"2025-11-24T21:15:15.748Z\\\"},\\\"children\\\":[\\\"$\\\",\\\"$L9\\\",null,{\\\"parallelRouterKey\\\":\\\"children\\\",\\\"segmentPath\\\":[\\\"children\\\"],\\\"error\\\":\\\"$undefined\\\",\\\"errorStyles\\\":\\\"$undefined\\\",\\\"errorScripts\\\":\\\"$undefined\\\",\\\"template\\\":[\\\"$\\\",\\\"$La\\\",null,{}],\\\"templateStyles\\\":\\\"$undefined\\\",\\\"templateScripts\\\":\\\"$undefined\\\",\\\"notFound\\\":\\\"$13\\\",\\\"notFoundStyles\\\":[]}]}],[\\\"$\\\",\\\"$L16\\\",null,{}]]}]}]}]]}]\\nd:[[\\\"$\\\",\\\"meta\\\",\\\"0\\\",{\\\"name\\\":\\\"viewport\\\",\\\"content\\\":\\\"width=device-width, initial-scale=1\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"1\\\",{\\\"charSet\\\":\\\"utf-8\\\"}],[\\\"$\\\",\\\"title\\\",\\\"2\\\",{\\\"children\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"3\\\",{\\\"name\\\":\\\"description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\"])</script><script>self.__next_f.push([1,\"\\\",\\\"meta\\\",\\\"4\\\",{\\\"name\\\":\\\"generator\\\",\\\"content\\\":\\\"v0.app\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"5\\\",{\\\"property\\\":\\\"og:title\\\",\\\"content\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"6\\\",{\\\"property\\\":\\\"og:description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"7\\\",{\\\"property\\\":\\\"og:image:type\\\",\\\"content\\\":\\\"image/png\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"8\\\",{\\\"property\\\":\\\"og:image:width\\\",\\\"content\\\":\\\"1200\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"9\\\",{\\\"property\\\":\\\"og:image:height\\\",\\\"content\\\":\\\"630\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"10\\\",{\\\"property\\\":\\\"og:image\\\",\\\"content\\\":\\\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"11\\\",{\\\"name\\\":\\\"twitter:card\\\",\\\"content\\\":\\\"summary_large_image\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"12\\\",{\\\"name\\\":\\\"twitter:title\\\",\\\"content\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"13\\\",{\\\"name\\\":\\\"twitter:description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"14\\\",{\\\"name\\\":\\\"twitter:image:type\\\",\\\"content\\\":\\\"image/png\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"15\\\",{\\\"name\\\":\\\"twitter:image:width\\\",\\\"content\\\":\\\"1200\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"16\\\",{\\\"name\\\":\\\"twitter:image:height\\\",\\\"content\\\":\\\"630\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"17\\\",{\\\"name\\\":\\\"twitter:image\\\",\\\"content\\\":\\\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\\\"}],[\\\"$\\\",\\\"link\\\",\\\"18\\\",{\\\"rel\\\":\\\"icon\\\",\\\"href\\\":\\\"/favicon.ico\\\",\\\"type\\\":\\\"image/x-icon\\\",\\\"sizes\\\":\\\"16x16\\\"}]]\\n3:null\\n\"])</script></body></html>\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-11-24T21:14:24.635Z",
    "modified": "2025-11-24T21:16:05.026Z"
  },
  {
    "projectId": "b0311687-2228-436f-8b5b-13b6e6aa4f85",
    "testId": "af134431-df00-4a37-b14e-16335eba6d61",
    "userId": "54a864b8-1081-70dd-ad79-74b8b9f2ba56",
    "title": "TC008-whatsapp_integration_for_invoice_and_shipment_notifications",
    "description": "Test that WhatsApp messaging API generates correct prefilled messages and integrates seamlessly with WhatsApp Business API for sending invoices and shipment notifications.",
    "code": "import requests\nimport json\n\nBASE_URL = \"http://localhost:3000\"\nAPI_KEY = \"sbp_319164fa6ae5e2f85df9b36646881e9219e37381\"\nHEADERS = {\n    \"Content-Type\": \"application/json\",\n    \"Authorization\": f\"Bearer {API_KEY}\",\n}\n\n\ndef test_whatsapp_integration_for_invoice_and_shipment_notifications():\n    timeout = 30\n    # Step 1: Create a sample invoice resource to send notification for\n    invoice_payload = {\n        \"customerId\": \"test-customer-id\",\n        \"amount\": 150.75,\n        \"currency\": \"USD\",\n        \"status\": \"pending\",\n        \"description\": \"Test invoice for WhatsApp integration\",\n        \"dueDate\": \"2025-12-31\",\n    }\n    invoice_id = None\n    shipment_id = None\n    try:\n        # Create Invoice\n        resp_invoice_create = requests.post(\n            f\"{BASE_URL}/api/invoices\",\n            headers=HEADERS,\n            data=json.dumps(invoice_payload),\n            timeout=timeout,\n        )\n        assert resp_invoice_create.status_code == 201, f\"Invoice creation failed: {resp_invoice_create.text}\"\n        invoice_data = resp_invoice_create.json()\n        invoice_id = invoice_data.get(\"id\")\n        assert invoice_id is not None, \"Invoice ID missing in creation response\"\n\n        # Step 2: Create a sample shipment resource for shipment notification\n        shipment_payload = {\n            \"origin\": \"Warehouse A\",\n            \"destination\": \"Customer Location\",\n            \"status\": \"in_transit\",\n            \"trackingNumber\": \"SHIP123456789\",\n            \"carrier\": \"CarrierX\",\n            \"estimatedDelivery\": \"2025-12-25\",\n            \"description\": \"Test shipment for WhatsApp integration\",\n        }\n        resp_shipment_create = requests.post(\n            f\"{BASE_URL}/api/shipments\",\n            headers=HEADERS,\n            data=json.dumps(shipment_payload),\n            timeout=timeout,\n        )\n        assert resp_shipment_create.status_code == 201, f\"Shipment creation failed: {resp_shipment_create.text}\"\n        shipment_data = resp_shipment_create.json()\n        shipment_id = shipment_data.get(\"id\")\n        assert shipment_id is not None, \"Shipment ID missing in creation response\"\n\n        # Step 3: Request WhatsApp message generation for invoice notification\n        whatsapp_invoice_payload = {\n            \"type\": \"invoice\",\n            \"resourceId\": invoice_id\n        }\n        resp_whatsapp_invoice = requests.post(\n            f\"{BASE_URL}/api/whatsapp/send\",\n            headers=HEADERS,\n            data=json.dumps(whatsapp_invoice_payload),\n            timeout=timeout,\n        )\n        assert resp_whatsapp_invoice.status_code == 200, f\"Failed to send WhatsApp invoice notification: {resp_whatsapp_invoice.text}\"\n        invoice_msg_resp = resp_whatsapp_invoice.json()\n        assert \"prefilledMessage\" in invoice_msg_resp, \"Prefilled message missing in invoice WhatsApp response\"\n        assert \"status\" in invoice_msg_resp and invoice_msg_resp[\"status\"] == \"sent\", \"WhatsApp invoice notification not marked as sent\"\n\n        # Step 4: Request WhatsApp message generation for shipment notification\n        whatsapp_shipment_payload = {\n            \"type\": \"shipment\",\n            \"resourceId\": shipment_id\n        }\n        resp_whatsapp_shipment = requests.post(\n            f\"{BASE_URL}/api/whatsapp/send\",\n            headers=HEADERS,\n            data=json.dumps(whatsapp_shipment_payload),\n            timeout=timeout,\n        )\n        assert resp_whatsapp_shipment.status_code == 200, f\"Failed to send WhatsApp shipment notification: {resp_whatsapp_shipment.text}\"\n        shipment_msg_resp = resp_whatsapp_shipment.json()\n        assert \"prefilledMessage\" in shipment_msg_resp, \"Prefilled message missing in shipment WhatsApp response\"\n        assert \"status\" in shipment_msg_resp and shipment_msg_resp[\"status\"] == \"sent\", \"WhatsApp shipment notification not marked as sent\"\n\n    finally:\n        # Cleanup: Delete created invoice and shipment if they exist\n        if invoice_id:\n            try:\n                resp_del_invoice = requests.delete(\n                    f\"{BASE_URL}/api/invoices/{invoice_id}\",\n                    headers=HEADERS,\n                    timeout=timeout,\n                )\n                assert resp_del_invoice.status_code in [200, 204], f\"Failed to delete invoice {invoice_id}\"\n            except Exception:\n                pass\n        if shipment_id:\n            try:\n                resp_del_shipment = requests.delete(\n                    f\"{BASE_URL}/api/shipments/{shipment_id}\",\n                    headers=HEADERS,\n                    timeout=timeout,\n                )\n                assert resp_del_shipment.status_code in [200, 204], f\"Failed to delete shipment {shipment_id}\"\n            except Exception:\n                pass\n\n\ntest_whatsapp_integration_for_invoice_and_shipment_notifications()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 115, in <module>\n  File \"<string>\", line 33, in test_whatsapp_integration_for_invoice_and_shipment_notifications\nAssertionError: Invoice creation failed: <!DOCTYPE html><html lang=\"en\"><head><meta charSet=\"utf-8\"/><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/><link rel=\"stylesheet\" href=\"/_next/static/css/app/layout.css?v=1764018959939\" data-precedence=\"next_static/css/app/layout.css\"/><link rel=\"preload\" as=\"script\" fetchPriority=\"low\" href=\"/_next/static/chunks/webpack.js?v=1764018959939\"/><script src=\"/_next/static/chunks/main-app.js?v=1764018959939\" async=\"\"></script><script src=\"/_next/static/chunks/app-pages-internals.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/login/page.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/layout.js\" async=\"\"></script><script src=\"/_next/static/chunks/app/not-found.js\" async=\"\"></script><link rel=\"preload\" href=\"/fonts/Rebels-Fett.woff2\" as=\"font\" type=\"font/woff2\" crossorigin=\"anonymous\"/><title>Login - Tapan Go â€“ Tapan Go</title><meta name=\"description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta name=\"generator\" content=\"v0.app\"/><meta property=\"og:title\" content=\"Login - Tapan Go â€“ Tapan Go\"/><meta property=\"og:description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta property=\"og:image:type\" content=\"image/png\"/><meta property=\"og:image:width\" content=\"1200\"/><meta property=\"og:image:height\" content=\"630\"/><meta property=\"og:image\" content=\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\"/><meta name=\"twitter:card\" content=\"summary_large_image\"/><meta name=\"twitter:title\" content=\"Login - Tapan Go â€“ Tapan Go\"/><meta name=\"twitter:description\" content=\"Sign in to access the Tapan Go cargo network dashboard.\"/><meta name=\"twitter:image:type\" content=\"image/png\"/><meta name=\"twitter:image:width\" content=\"1200\"/><meta name=\"twitter:image:height\" content=\"630\"/><meta name=\"twitter:image\" content=\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\"/><link rel=\"icon\" href=\"/favicon.ico\" type=\"image/x-icon\" sizes=\"16x16\"/><script src=\"/_next/static/chunks/polyfills.js\" noModule=\"\"></script></head><body class=\"__variable_d3c944 __variable_5899e0 antialiased\"><script>((e, i, s, u, m, a, l, h)=>{\n    let d = document.documentElement, w = [\n        \"light\",\n        \"dark\"\n    ];\n    function p(n) {\n        (Array.isArray(e) ? e : [\n            e\n        ]).forEach((y)=>{\n            let k = y === \"class\", S = k && a ? m.map((f)=>a[f] || f) : m;\n            k ? (d.classList.remove(...S), d.classList.add(a && a[n] ? a[n] : n)) : d.setAttribute(y, n);\n        }), R(n);\n    }\n    function R(n) {\n        h && w.includes(n) && (d.style.colorScheme = n);\n    }\n    function c() {\n        return window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n    }\n    if (u) p(u);\n    else try {\n        let n = localStorage.getItem(i) || s, y = l && n === \"system\" ? c() : n;\n        p(y);\n    } catch (n) {}\n})(\"class\",\"theme\",\"dark\",null,[\"light\",\"dark\"],null,false,true)</script><div class=\"min-h-screen flex flex-col bg-background\"><header class=\"border-b border-border\"><div class=\"flex items-center justify-between px-6 lg:px-8 py-4 max-w-6xl mx-auto\"><div class=\"flex items-center gap-3\"><div class=\"h-10 w-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-xl font-display\">ðŸ“¦</div><div class=\"flex flex-col\"><span class=\"text-base font-display font-bold tracking-wide\">TAPAN GO</span><span class=\"text-xs uppercase tracking-widest text-muted-foreground\">Cargo Network Console</span></div></div><a data-slot=\"button\" class=\"inline-flex items-center justify-center uppercase whitespace-nowrap text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 has-[&gt;svg]:px-2.5 h-9 px-3\" href=\"/\">Back to overview</a></div></header><main class=\"flex-1 flex items-center justify-center px-4 py-8 lg:py-10\"><div class=\"w-full max-w-5xl grid gap-8 lg:gap-10 lg:grid-cols-[1.15fr_minmax(0,1fr)] items-center\"><section class=\"space-y-5 max-w-lg order-2 lg:order-1\"><div class=\"inline-flex items-center gap-2 rounded-full border border-border/60 bg-background/60 px-3 py-1 text-[10px] md:text-[11px] tracking-[0.18em] uppercase text-muted-foreground\"><span class=\"h-1.5 w-1.5 rounded-full bg-emerald-500\"></span><span>Ops access Â· Internal use only Â· Imphal â†” New Delhi</span></div><h1 class=\"text-2xl md:text-3xl font-display font-bold leading-tight\">Sign in to Tapan Go ops console.</h1><p class=\"text-sm text-muted-foreground max-w-prose leading-relaxed\">Use your staff or partner account to follow cargo between Imphal and New Delhi and manage key bookings and updates.</p><ul class=\"text-[11px] md:text-xs text-muted-foreground space-y-1\"><li>See today&#x27;s shipments, lanes, and exceptions in one place.</li><li>Coordinate air, land, and doorstep pick &amp; drop across the network.</li><li>Restricted to Tapan Go operations teams and trusted partners.</li></ul></section><section class=\"w-full max-w-md ml-auto order-1 lg:order-2\"><div data-slot=\"card\" class=\"text-card-foreground flex flex-col gap-2 rounded-lg p-6 bg-card/90 border-border/80 shadow-[0_18px_60px_rgba(0,0,0,0.7)]\"><div class=\"mb-4 space-y-1\"><h2 class=\"text-sm font-semibold\">Login</h2><p class=\"text-xs text-muted-foreground\">Enter your email and password to continue.</p></div><form class=\"space-y-4\"><div class=\"space-y-2\"><label data-slot=\"label\" class=\"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\" for=\"email\">Work email</label><input type=\"email\" data-slot=\"input\" class=\"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\" id=\"email\" autoComplete=\"email\" placeholder=\"ops@tapango.logistics\" value=\"ops@example.com\"/></div><div class=\"space-y-2\"><label data-slot=\"label\" class=\"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\" for=\"password\">Password</label><input type=\"password\" data-slot=\"input\" class=\"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\" id=\"password\" autoComplete=\"current-password\" placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\" value=\"\"/></div><button data-slot=\"button\" class=\"inline-flex items-center justify-center uppercase gap-2 whitespace-nowrap rounded-md text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2 has-[&gt;svg]:px-3 w-full\" type=\"submit\">Login</button></form><div class=\"mt-3 flex justify-end\"><button type=\"button\" class=\"text-[11px] text-muted-foreground hover:text-foreground underline-offset-4 hover:underline\">Forgot password?</button></div></div></section></div></main></div><div role=\"region\" aria-label=\"Notifications (F8)\" tabindex=\"-1\" style=\"pointer-events:none\"><ol tabindex=\"-1\" class=\"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\"></ol></div><script src=\"/_next/static/chunks/webpack.js?v=1764018959939\" async=\"\"></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,\"1:HL[\\\"/_next/static/css/app/layout.css?v=1764018959939\\\",\\\"style\\\"]\\n0:D{\\\"name\\\":\\\"r2\\\",\\\"env\\\":\\\"Server\\\"}\\n\"])</script><script>self.__next_f.push([1,\"2:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/app-router.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\n6:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/link.js\\\",[\\\"app/login/page\\\",\\\"static/chunks/app/login/page.js\\\"],\\\"\\\"]\\n8:I[\\\"(app-pages-browser)/./components/auth/login-form.tsx\\\",[\\\"app/login/page\\\",\\\"static/chunks/app/login/page.js\\\"],\\\"LoginForm\\\"]\\n9:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/layout-router.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\na:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/render-from-template-context.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\ne:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/components/error-boundary.js\\\",[\\\"app-pages-internals\\\",\\\"static/chunks/app-pages-internals.js\\\"],\\\"\\\"]\\n3:D{\\\"name\\\":\\\"\\\",\\\"env\\\":\\\"Server\\\"}\\n4:D{\\\"name\\\":\\\"LoginPage\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Button\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Slot.Slot\\\",\\\"env\\\":\\\"Server\\\"}\\n5:D{\\\"name\\\":\\\"Slot.SlotClone\\\",\\\"env\\\":\\\"Server\\\"}\\n5:[\\\"$\\\",\\\"$L6\\\",null,{\\\"href\\\":\\\"/\\\",\\\"children\\\":\\\"Back to overview\\\",\\\"data-slot\\\":\\\"button\\\",\\\"className\\\":\\\"inline-flex items-center justify-center uppercase whitespace-nowrap text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [\\u0026_svg]:pointer-events-none [\\u0026_svg:not([class*='size-'])]:size-4 shrink-0 [\\u0026_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 has-[\\u003esvg]:px-2.5 h-9 px-3\\\"}]\\n7:D{\\\"name\\\":\\\"Card\\\",\\\"env\\\":\\\"Server\\\"}\\n7:[\\\"$\\\",\\\"div\\\",null,{\\\"data-slot\\\":\\\"card\\\",\\\"className\\\":\\\"text-card-foreground flex flex-col gap-2 rounded-lg p-6 bg-card/90 border-border/80 shadow-[0_18px_60px_rgba(0,0,0,0.7)]\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"mb-4 space-y-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"h2\\\",null,{\\\"className\\\":\\\"text-sm font-semibold\\\",\\\"children\\\":\"])</script><script>self.__next_f.push([1,\"\\\"Login\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-xs text-muted-foreground\\\",\\\"children\\\":\\\"Enter your email and password to continue.\\\"}]]}],[\\\"$\\\",\\\"$L8\\\",null,{}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"mt-3 flex justify-end\\\",\\\"children\\\":[\\\"$\\\",\\\"button\\\",null,{\\\"type\\\":\\\"button\\\",\\\"className\\\":\\\"text-[11px] text-muted-foreground hover:text-foreground underline-offset-4 hover:underline\\\",\\\"children\\\":\\\"Forgot password?\\\"}]}]]}]\\n\"])</script><script>self.__next_f.push([1,\"4:[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"min-h-screen flex flex-col bg-background\\\",\\\"children\\\":[[\\\"$\\\",\\\"header\\\",null,{\\\"className\\\":\\\"border-b border-border\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center justify-between px-6 lg:px-8 py-4 max-w-6xl mx-auto\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center gap-3\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"h-10 w-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-xl font-display\\\",\\\"children\\\":\\\"ðŸ“¦\\\"}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col\\\",\\\"children\\\":[[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"text-base font-display font-bold tracking-wide\\\",\\\"children\\\":\\\"TAPAN GO\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"text-xs uppercase tracking-widest text-muted-foreground\\\",\\\"children\\\":\\\"Cargo Network Console\\\"}]]}]]}],\\\"$5\\\"]}]}],[\\\"$\\\",\\\"main\\\",null,{\\\"className\\\":\\\"flex-1 flex items-center justify-center px-4 py-8 lg:py-10\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"w-full max-w-5xl grid gap-8 lg:gap-10 lg:grid-cols-[1.15fr_minmax(0,1fr)] items-center\\\",\\\"children\\\":[[\\\"$\\\",\\\"section\\\",null,{\\\"className\\\":\\\"space-y-5 max-w-lg order-2 lg:order-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"inline-flex items-center gap-2 rounded-full border border-border/60 bg-background/60 px-3 py-1 text-[10px] md:text-[11px] tracking-[0.18em] uppercase text-muted-foreground\\\",\\\"children\\\":[[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"h-1.5 w-1.5 rounded-full bg-emerald-500\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"children\\\":\\\"Ops access Â· Internal use only Â· Imphal â†” New Delhi\\\"}]]}],[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-2xl md:text-3xl font-display font-bold leading-tight\\\",\\\"children\\\":\\\"Sign in to Tapan Go ops console.\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-sm text-muted-foreground max-w-prose leading-relaxed\\\",\\\"children\\\":\\\"Use your staff or partner account to follow cargo between Imphal and New Delhi and manage key bookings and updates.\\\"}],[\\\"$\\\",\\\"ul\\\",null,{\\\"className\\\":\\\"text-[11px] md:text-xs text-muted-foreground space-y-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"See today's shipments, lanes, and exceptions in one place.\\\"}],[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"Coordinate air, land, and doorstep pick \\u0026 drop across the network.\\\"}],[\\\"$\\\",\\\"li\\\",null,{\\\"children\\\":\\\"Restricted to Tapan Go operations teams and trusted partners.\\\"}]]}]]}],[\\\"$\\\",\\\"section\\\",null,{\\\"className\\\":\\\"w-full max-w-md ml-auto order-1 lg:order-2\\\",\\\"children\\\":\\\"$7\\\"}]]}]}]]}]\\n\"])</script><script>self.__next_f.push([1,\"b:D{\\\"name\\\":\\\"RootLayout\\\",\\\"env\\\":\\\"Server\\\"}\\nc:D{\\\"name\\\":\\\"rQ\\\",\\\"env\\\":\\\"Server\\\"}\\nc:null\\nd:D{\\\"name\\\":\\\"\\\",\\\"env\\\":\\\"Server\\\"}\\nf:[]\\n0:[\\\"$\\\",\\\"$L2\\\",null,{\\\"buildId\\\":\\\"development\\\",\\\"assetPrefix\\\":\\\"\\\",\\\"urlParts\\\":[\\\"\\\",\\\"login\\\"],\\\"initialTree\\\":[\\\"\\\",{\\\"children\\\":[\\\"login\\\",{\\\"children\\\":[\\\"__PAGE__\\\",{}]}]},\\\"$undefined\\\",\\\"$undefined\\\",true],\\\"initialSeedData\\\":[\\\"\\\",{\\\"children\\\":[\\\"login\\\",{\\\"children\\\":[\\\"__PAGE__\\\",{},[[\\\"$L3\\\",\\\"$4\\\",null],null],null]},[null,[\\\"$\\\",\\\"$L9\\\",null,{\\\"parallelRouterKey\\\":\\\"children\\\",\\\"segmentPath\\\":[\\\"children\\\",\\\"login\\\",\\\"children\\\"],\\\"error\\\":\\\"$undefined\\\",\\\"errorStyles\\\":\\\"$undefined\\\",\\\"errorScripts\\\":\\\"$undefined\\\",\\\"template\\\":[\\\"$\\\",\\\"$La\\\",null,{}],\\\"templateStyles\\\":\\\"$undefined\\\",\\\"templateScripts\\\":\\\"$undefined\\\",\\\"notFound\\\":\\\"$undefined\\\",\\\"notFoundStyles\\\":\\\"$undefined\\\"}]],null]},[[[[\\\"$\\\",\\\"link\\\",\\\"0\\\",{\\\"rel\\\":\\\"stylesheet\\\",\\\"href\\\":\\\"/_next/static/css/app/layout.css?v=1764018959939\\\",\\\"precedence\\\":\\\"next_static/css/app/layout.css\\\",\\\"crossOrigin\\\":\\\"$undefined\\\"}]],\\\"$Lb\\\"],null],null],\\\"couldBeIntercepted\\\":false,\\\"initialHead\\\":[\\\"$c\\\",\\\"$Ld\\\"],\\\"globalErrorComponent\\\":\\\"$e\\\",\\\"missingSlots\\\":\\\"$Wf\\\"}]\\n\"])</script><script>self.__next_f.push([1,\"10:I[\\\"(app-pages-browser)/./components/theme-provider.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"ThemeProvider\\\"]\\n11:I[\\\"(app-pages-browser)/./lib/v0-context.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"V0Provider\\\"]\\n12:I[\\\"(app-pages-browser)/./components/layout/root-shell.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"RootShell\\\"]\\n15:I[\\\"(app-pages-browser)/./node_modules/next/dist/client/image-component.js\\\",[\\\"app/not-found\\\",\\\"static/chunks/app/not-found.js\\\"],\\\"Image\\\"]\\n16:I[\\\"(app-pages-browser)/./components/ui/toaster.tsx\\\",[\\\"app/layout\\\",\\\"static/chunks/app/layout.js\\\"],\\\"Toaster\\\"]\\n13:D{\\\"name\\\":\\\"NotFound\\\",\\\"env\\\":\\\"Server\\\"}\\n13:D{\\\"name\\\":\\\"DashboardPageLayout\\\",\\\"env\\\":\\\"Server\\\"}\\n14:D{\\\"name\\\":\\\"CuteRobotIcon\\\",\\\"env\\\":\\\"Server\\\"}\\n14:[\\\"$\\\",\\\"svg\\\",null,{\\\"xmlns\\\":\\\"http://www.w3.org/2000/svg\\\",\\\"width\\\":20,\\\"height\\\":20,\\\"viewBox\\\":\\\"0 0 20 20\\\",\\\"fill\\\":\\\"none\\\",\\\"className\\\":\\\"ml-1 lg:ml-0 opacity-50 md:opacity-100 size-5\\\",\\\"children\\\":[\\\"$\\\",\\\"path\\\",null,{\\\"stroke\\\":\\\"currentColor\\\",\\\"strokeLinecap\\\":\\\"square\\\",\\\"strokeWidth\\\":1.667,\\\"d\\\":\\\"M10 3.333H4.166v7.5h11.667v-7.5H10Zm0 0V1.667m-6.667 12.5 1.25-1.25m12.083 1.25-1.25-1.25M7.5 6.667V7.5m5-.833V7.5M5 10.833V12.5a5 5 0 0 0 10 0v-1.667\\\"}]}]\\n13:[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col relative w-full gap-1 min-h-full\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex items-center lg:items-baseline gap-2.5 md:gap-4 px-4 md:px-6 py-3 md:pb-4 lg:pt-7 ring-2 ring-pop sticky top-header-mobile lg:top-0 bg-background z-10 print:hidden\\\",\\\"children\\\":[[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"max-lg:contents rounded bg-primary size-7 md:size-9 flex items-center justify-center my-auto\\\",\\\"children\\\":\\\"$14\\\"}],[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-xl lg:text-4xl font-display leading-[1] mb-1\\\",\\\"children\\\":\\\"Not found\\\"}],[\\\"$\\\",\\\"span\\\",null,{\\\"className\\\":\\\"ml-auto text-xs md:text-sm text-muted-foreground block pr-16 lg:pr-24 text-right\\\",\\\"children\\\":\\\"page under construction\\\"}]]}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"min-h-full flex-1 flex flex-col gap-8 md:gap-14 px-3 lg:px-6 py-6 md:py-10 ring-2 ring-pop bg-background\\\",\\\"children\\\":[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\"\"])</script><script>self.__next_f.push([1,\":\\\"flex flex-col items-center justify-center gap-10 flex-1\\\",\\\"children\\\":[[\\\"$\\\",\\\"picture\\\",null,{\\\"className\\\":\\\"w-1/4 aspect-square grayscale opacity-50\\\",\\\"children\\\":[\\\"$\\\",\\\"$L15\\\",null,{\\\"src\\\":\\\"/assets/bot_greenprint.gif\\\",\\\"alt\\\":\\\"Security Status\\\",\\\"width\\\":1000,\\\"height\\\":1000,\\\"quality\\\":90,\\\"sizes\\\":\\\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\\\",\\\"className\\\":\\\"size-full object-contain\\\"}]}],[\\\"$\\\",\\\"div\\\",null,{\\\"className\\\":\\\"flex flex-col items-center justify-center gap-2\\\",\\\"children\\\":[[\\\"$\\\",\\\"h1\\\",null,{\\\"className\\\":\\\"text-xl font-bold uppercase text-muted-foreground\\\",\\\"children\\\":\\\"Not found, yet\\\"}],[\\\"$\\\",\\\"p\\\",null,{\\\"className\\\":\\\"text-sm max-w-sm text-center text-muted-foreground text-balance\\\",\\\"children\\\":\\\"Fork on v0 and start promoting your way to new pages.\\\"}]]}]]}]}]]}]\\nb:[\\\"$\\\",\\\"html\\\",null,{\\\"lang\\\":\\\"en\\\",\\\"suppressHydrationWarning\\\":true,\\\"children\\\":[[\\\"$\\\",\\\"head\\\",null,{\\\"children\\\":[\\\"$\\\",\\\"link\\\",null,{\\\"rel\\\":\\\"preload\\\",\\\"href\\\":\\\"/fonts/Rebels-Fett.woff2\\\",\\\"as\\\":\\\"font\\\",\\\"type\\\":\\\"font/woff2\\\",\\\"crossOrigin\\\":\\\"anonymous\\\"}]}],[\\\"$\\\",\\\"body\\\",null,{\\\"className\\\":\\\"__variable_d3c944 __variable_5899e0 antialiased\\\",\\\"children\\\":[\\\"$\\\",\\\"$L10\\\",null,{\\\"attribute\\\":\\\"class\\\",\\\"defaultTheme\\\":\\\"dark\\\",\\\"enableSystem\\\":false,\\\"children\\\":[\\\"$\\\",\\\"$L11\\\",null,{\\\"isV0\\\":false,\\\"children\\\":[[\\\"$\\\",\\\"$L12\\\",null,{\\\"notifications\\\":[],\\\"defaultWidgetData\\\":{\\\"location\\\":\\\"New Delhi, India\\\",\\\"timezone\\\":\\\"Asia/Kolkata\\\",\\\"temperature\\\":\\\"30Â°C / Clear\\\",\\\"weather\\\":\\\"Clear skies\\\",\\\"date\\\":\\\"2025-11-24T21:15:15.748Z\\\"},\\\"children\\\":[\\\"$\\\",\\\"$L9\\\",null,{\\\"parallelRouterKey\\\":\\\"children\\\",\\\"segmentPath\\\":[\\\"children\\\"],\\\"error\\\":\\\"$undefined\\\",\\\"errorStyles\\\":\\\"$undefined\\\",\\\"errorScripts\\\":\\\"$undefined\\\",\\\"template\\\":[\\\"$\\\",\\\"$La\\\",null,{}],\\\"templateStyles\\\":\\\"$undefined\\\",\\\"templateScripts\\\":\\\"$undefined\\\",\\\"notFound\\\":\\\"$13\\\",\\\"notFoundStyles\\\":[]}]}],[\\\"$\\\",\\\"$L16\\\",null,{}]]}]}]}]]}]\\nd:[[\\\"$\\\",\\\"meta\\\",\\\"0\\\",{\\\"name\\\":\\\"viewport\\\",\\\"content\\\":\\\"width=device-width, initial-scale=1\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"1\\\",{\\\"charSet\\\":\\\"utf-8\\\"}],[\\\"$\\\",\\\"title\\\",\\\"2\\\",{\\\"children\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"3\\\",{\\\"name\\\":\\\"description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\"])</script><script>self.__next_f.push([1,\"\\\",\\\"meta\\\",\\\"4\\\",{\\\"name\\\":\\\"generator\\\",\\\"content\\\":\\\"v0.app\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"5\\\",{\\\"property\\\":\\\"og:title\\\",\\\"content\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"6\\\",{\\\"property\\\":\\\"og:description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"7\\\",{\\\"property\\\":\\\"og:image:type\\\",\\\"content\\\":\\\"image/png\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"8\\\",{\\\"property\\\":\\\"og:image:width\\\",\\\"content\\\":\\\"1200\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"9\\\",{\\\"property\\\":\\\"og:image:height\\\",\\\"content\\\":\\\"630\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"10\\\",{\\\"property\\\":\\\"og:image\\\",\\\"content\\\":\\\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"11\\\",{\\\"name\\\":\\\"twitter:card\\\",\\\"content\\\":\\\"summary_large_image\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"12\\\",{\\\"name\\\":\\\"twitter:title\\\",\\\"content\\\":\\\"Login - Tapan Go â€“ Tapan Go\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"13\\\",{\\\"name\\\":\\\"twitter:description\\\",\\\"content\\\":\\\"Sign in to access the Tapan Go cargo network dashboard.\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"14\\\",{\\\"name\\\":\\\"twitter:image:type\\\",\\\"content\\\":\\\"image/png\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"15\\\",{\\\"name\\\":\\\"twitter:image:width\\\",\\\"content\\\":\\\"1200\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"16\\\",{\\\"name\\\":\\\"twitter:image:height\\\",\\\"content\\\":\\\"630\\\"}],[\\\"$\\\",\\\"meta\\\",\\\"17\\\",{\\\"name\\\":\\\"twitter:image\\\",\\\"content\\\":\\\"http://localhost:3000/opengraph-image.png?2de63acaff4e851d\\\"}],[\\\"$\\\",\\\"link\\\",\\\"18\\\",{\\\"rel\\\":\\\"icon\\\",\\\"href\\\":\\\"/favicon.ico\\\",\\\"type\\\":\\\"image/x-icon\\\",\\\"sizes\\\":\\\"16x16\\\"}]]\\n3:null\\n\"])</script></body></html>\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-11-24T21:14:24.640Z",
    "modified": "2025-11-24T21:16:05.034Z"
  },
  {
    "projectId": "b0311687-2228-436f-8b5b-13b6e6aa4f85",
    "testId": "280f6e98-def4-4528-9b75-55c0b1610c13",
    "userId": "54a864b8-1081-70dd-ad79-74b8b9f2ba56",
    "title": "TC009-offline_scan_queue_persistence_and_synchronization",
    "description": "Validate that offline scan queue persists locally when offline and synchronizes automatically with the server upon reconnection, including retry mechanisms on failure.",
    "code": "import requests\nimport time\n\nBASE_URL = \"http://localhost:3000\"\nAPI_KEY = \"sbp_319164fa6ae5e2f85df9b36646881e9219e37381\"\nHEADERS = {\n    \"access-token\": API_KEY,\n    \"Content-Type\": \"application/json\"\n}\nTIMEOUT = 30\n\ndef offline_scan_queue_persistence_and_synchronization():\n    scan_endpoint = f\"{BASE_URL}/api/scans\"\n    get_sync_status_endpoint = f\"{BASE_URL}/api/ops/sync-status\"\n    \n    # Simulate offline scan event data\n    offline_scan_data = {\n        \"barcode\": \"TESTBARCODE1234567890\",\n        \"timestamp\": int(time.time()),\n        \"location\": \"warehouse-A\",\n        \"status\": \"pending\"\n    }\n\n    try:\n        # Step 1: Add scan event\n        resp = requests.post(scan_endpoint, json=offline_scan_data, headers=HEADERS, timeout=TIMEOUT)\n        assert resp.status_code in (200, 201), f\"Expected status 200 or 201 on scan post, got {resp.status_code}\"\n        scan_id = resp.json().get(\"id\")\n        assert scan_id, \"Scan response missing 'id'\"\n\n        # Step 2: Verify scan event exists\n        scans_resp = requests.get(scan_endpoint, headers=HEADERS, timeout=TIMEOUT, params={\"barcode\": offline_scan_data[\"barcode\"]})\n        assert scans_resp.status_code == 200, \"Failed to get scans on server\"\n        scans = scans_resp.json()\n        assert any(scan.get(\"barcode\") == offline_scan_data[\"barcode\"] for scan in scans), \"Scan event not found in server records\"\n\n        # Step 3: Optionally check sync status if available\n        status_resp = requests.get(get_sync_status_endpoint, headers=HEADERS, timeout=TIMEOUT)\n        if status_resp.status_code == 200:\n            status_data = status_resp.json()\n            assert isinstance(status_data.get(\"offlineQueueEmpty\"), bool), \"offlineQueueEmpty should be boolean in sync status\"\n\n    except requests.RequestException as e:\n        assert False, f\"HTTP request failed: {str(e)}\"\n    except AssertionError:\n        raise\n    except Exception as ex:\n        assert False, f\"Unexpected error occurred: {str(ex)}\"\n\noffline_scan_queue_persistence_and_synchronization()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/requests/models.py\", line 974, in json\n    return complexjson.loads(self.text, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/__init__.py\", line 514, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/decoder.py\", line 386, in decode\n    obj, end = self.raw_decode(s)\n               ^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/decoder.py\", line 416, in raw_decode\n    return self.scan_once(s, idx=_w(s, idx).end())\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsimplejson.errors.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<string>\", line 28, in offline_scan_queue_persistence_and_synchronization\n  File \"/var/task/requests/models.py\", line 978, in json\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\nrequests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 50, in <module>\n  File \"<string>\", line 44, in offline_scan_queue_persistence_and_synchronization\nAssertionError: HTTP request failed: Expecting value: line 1 column 1 (char 0)\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-11-24T21:14:24.645Z",
    "modified": "2025-11-24T21:16:53.066Z"
  },
  {
    "projectId": "b0311687-2228-436f-8b5b-13b6e6aa4f85",
    "testId": "39056b2d-2f51-437b-bbf3-eeb30575c6ce",
    "userId": "54a864b8-1081-70dd-ad79-74b8b9f2ba56",
    "title": "TC010-api_response_consistency_and_error_handling",
    "description": "Verify that all API endpoints return consistent, typed responses and handle errors gracefully under normal and failure conditions.",
    "code": "import requests\nimport json\n\nBASE_URL = \"http://localhost:3000\"\nAPI_KEY = \"sbp_319164fa6ae5e2f85df9b36646881e9219e37381\"\nHEADERS = {\n    \"Content-Type\": \"application/json\",\n    \"access-token\": API_KEY\n}\nTIMEOUT = 30\n\ndef test_api_response_consistency_and_error_handling():\n    endpoints = [\n        # Common core API routes based on PRD \"Supabase-backed Logistics APIs\"\n        # Covering barcodes, customers, invoices, manifests, finance, payments, scans, search, ops, whatsapp\n        {\"method\": \"GET\", \"path\": \"/api/barcodes\"},\n        {\"method\": \"GET\", \"path\": \"/api/customers\"},\n        {\"method\": \"GET\", \"path\": \"/api/invoices\"},\n        {\"method\": \"GET\", \"path\": \"/api/manifests\"},\n        {\"method\": \"GET\", \"path\": \"/api/finance\"},\n        {\"method\": \"GET\", \"path\": \"/api/payments\"},\n        {\"method\": \"GET\", \"path\": \"/api/scans\"},\n        {\"method\": \"GET\", \"path\": \"/api/search\"},\n        {\"method\": \"GET\", \"path\": \"/api/ops\"},\n        {\"method\": \"GET\", \"path\": \"/api/whatsapp\"},\n\n        # To further test endpoints that might require resource creation for typing tests,\n        # will create minimal resources as needed below, but first test GET for baseline.\n\n        # POST create invoice (minimal payload simulated)\n        {\"method\": \"POST\", \"path\": \"/api/invoices\", \"payload\": {\n            \"customerId\": \"test-customer-id\",\n            \"items\": [{\"description\": \"Test Item\", \"quantity\": 1, \"price\": 10.0}],\n            \"dueDate\": \"2025-12-31\"\n        }},\n\n        # POST create barcode\n        {\"method\": \"POST\", \"path\": \"/api/barcodes\", \"payload\": {\n            \"code\": \"TESTCODE1234\",\n            \"description\": \"Test barcode\"\n        }},\n\n        # POST create manifest\n        {\"method\": \"POST\", \"path\": \"/api/manifests\", \"payload\": {\n            \"origin\": \"Warehouse A\",\n            \"destination\": \"Warehouse B\",\n            \"airline\": \"TestAir\"\n        }},\n\n        # POST WhatsApp message (simulate send)\n        {\"method\": \"POST\", \"path\": \"/api/whatsapp/send\", \"payload\": {\n            \"phone\": \"+1234567890\",\n            \"message\": \"Test invoice notification\"\n        }},\n    ]\n\n    # Helper to make request and validate response\n    def make_request(endpoint):\n        method = endpoint[\"method\"].upper()\n        url = BASE_URL + endpoint[\"path\"]\n        payload = endpoint.get(\"payload\")\n        try:\n            if method == \"GET\":\n                resp = requests.get(url, headers=HEADERS, timeout=TIMEOUT)\n            elif method == \"POST\":\n                resp = requests.post(url, headers=HEADERS, json=payload, timeout=TIMEOUT)\n            elif method == \"PUT\":\n                resp = requests.put(url, headers=HEADERS, json=payload, timeout=TIMEOUT)\n            elif method == \"DELETE\":\n                resp = requests.delete(url, headers=HEADERS, timeout=TIMEOUT)\n            else:\n                raise ValueError(f\"Unsupported HTTP method: {method}\")\n            return resp\n        except requests.exceptions.RequestException as e:\n            assert False, f\"Request to {url} failed with exception: {e}\"\n\n    def validate_response(resp, expect_success=True):\n        # Some endpoints like /api/ops and /api/whatsapp GET might return empty or non-JSON responses\n        # Skip JSON validation if content-type not JSON and successful for those endpoints\n        allowed_non_json_paths = [\"/api/ops\", \"/api/whatsapp\", \"/api/whatsapp/send\"]\n        request_path = resp.request.path_url.split('?')[0]  # Strip query string if any\n\n        if any(request_path.startswith(p) for p in allowed_non_json_paths) and 200 <= resp.status_code < 300:\n            # For these endpoints, if content-type does not start with JSON, skip JSON checks\n            if not resp.headers.get(\"Content-Type\", \"\").startswith(\"application/json\"):\n                return\n\n        assert resp.headers.get(\"Content-Type\", \"\").startswith(\"application/json\"), \"Response is not JSON\"\n        try:\n            body = resp.json()\n        except json.JSONDecodeError:\n            assert False, \"Response body is not valid JSON\"\n        if expect_success:\n            assert 200 <= resp.status_code < 300, f\"Expected success status code, got {resp.status_code}\"\n            # Basic check that body is a dict or list\n            assert isinstance(body, (dict, list)), \"Response JSON is not dict or list\"\n            # Check for typical keys for success responses\n            # This varies by endpoint; we do generic sanity checks here\n        else:\n            # For errors, expect error fields and proper status codes\n            assert resp.status_code >= 400, f\"Expected error status code, got {resp.status_code}\"\n            # Typical error response shape: {\"error\": ..., \"message\": ..., \"code\": ...}\n            assert isinstance(body, dict), \"Error response JSON must be a dict\"\n            assert \"error\" in body or \"message\" in body, \"Error response missing error or message field\"\n\n    # Run tests for each endpoint - normal success cases for GET, POST where applicable\n    created_resources = {\n        \"invoices\": [],\n        \"barcodes\": [],\n        \"manifests\": []\n    }\n\n    for endpoint in endpoints:\n        resp = make_request(endpoint)\n        if resp.status_code >= 400:\n            # For POST success endpoints, this might mean some validation error because payload is dummy.\n            # Accept this but ensure error response structure is consistent\n            validate_response(resp, expect_success=False)\n        else:\n            validate_response(resp, expect_success=True)\n            # Save created resource IDs if possible for cleanup\n            if endpoint[\"method\"] == \"POST\" and resp.status_code in (200,201):\n                body = resp.json()\n                # Attempt to find id field\n                res_id = None\n                if isinstance(body, dict):\n                    for key in (\"id\", \"_id\", \"invoiceId\", \"barcodeId\", \"manifestId\"):\n                        if key in body:\n                            res_id = body[key]\n                            break\n                if res_id:\n                    if endpoint[\"path\"].startswith(\"/api/invoices\"):\n                        created_resources[\"invoices\"].append(res_id)\n                    elif endpoint[\"path\"].startswith(\"/api/barcodes\"):\n                        created_resources[\"barcodes\"].append(res_id)\n                    elif endpoint[\"path\"].startswith(\"/api/manifests\"):\n                        created_resources[\"manifests\"].append(res_id)\n\n    # Test error handling with invalid requests: invalid endpoint, missing auth, invalid payload\n    # 1. Invalid endpoint\n    resp_invalid = requests.get(BASE_URL + \"/api/invalidendpoint\", headers=HEADERS, timeout=TIMEOUT)\n    assert resp_invalid.status_code == 404 or resp_invalid.status_code == 400, \"Invalid endpoint did not return error\"\n    try:\n        err_body = resp_invalid.json()\n        assert isinstance(err_body, dict), \"Invalid endpoint error response not JSON object\"\n    except json.JSONDecodeError:\n        assert False, \"Invalid endpoint error response not JSON\"\n\n    # 2. Missing authentication\n    resp_no_auth = requests.get(BASE_URL + \"/api/invoices\", timeout=TIMEOUT)\n    assert resp_no_auth.status_code in (401, 403), \"Missing auth did not result in unauthorized/forbidden\"\n    try:\n        err_body = resp_no_auth.json()\n        assert \"error\" in err_body or \"message\" in err_body, \"Missing auth error response missing error/message\"\n    except json.JSONDecodeError:\n        assert False, \"Missing auth error response not JSON\"\n\n    # 3. Invalid payload for POST invoice creation (e.g., missing required fields)\n    resp_invalid_payload = requests.post(\n        BASE_URL + \"/api/invoices\",\n        headers=HEADERS,\n        json={\"invalidField\": \"invalidValue\"},\n        timeout=TIMEOUT\n    )\n    assert resp_invalid_payload.status_code >= 400, \"Invalid payload did not cause error\"\n    try:\n        err_body = resp_invalid_payload.json()\n        assert \"error\" in err_body or \"message\" in err_body, \"Invalid payload error response missing error/message\"\n    except json.JSONDecodeError:\n        assert False, \"Invalid payload error response not JSON\"\n\n    # Cleanup created resources\n    def try_delete(path, res_id):\n        try:\n            del_resp = requests.delete(f\"{BASE_URL}{path}/{res_id}\", headers=HEADERS, timeout=TIMEOUT)\n            # Accept 200,204 or 404 (already deleted)\n            assert del_resp.status_code in (200,204,404), f\"Failed to delete resource {res_id} at {path}\"\n        except requests.exceptions.RequestException:\n            pass  # Ignore deletion errors for cleanup\n\n    for invoice_id in created_resources[\"invoices\"]:\n        try_delete(\"/api/invoices\", invoice_id)\n\n    for barcode_id in created_resources[\"barcodes\"]:\n        try_delete(\"/api/barcodes\", barcode_id)\n\n    for manifest_id in created_resources[\"manifests\"]:\n        try_delete(\"/api/manifests\", manifest_id)\n\ntest_api_response_consistency_and_error_handling()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 190, in <module>\n  File \"<string>\", line 120, in test_api_response_consistency_and_error_handling\n  File \"<string>\", line 88, in validate_response\nAssertionError: Response is not JSON\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-11-24T21:14:24.650Z",
    "modified": "2025-11-24T21:17:37.024Z"
  }
]
